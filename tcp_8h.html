<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Doxygen 1.9.5"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ah_base/include/ah/tcp.h File Reference - Eclipse Arrowhead™ Core C Libraries</title>
  <script src="jquery.js"></script>
  <script src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script>
    window.addEventListener("load", () => {
      let contents = document.querySelector("body > div.contents");
      if (!contents) {
        return;
      }
      document.querySelectorAll("#top ul > li.current > a > span").forEach((selectedMenuItem) => {
        contents.classList.add(selectedMenuItem.innerText.trim().toLowerCase().replace(/\s+/, "-"));
      });
      for (let i = contents.childNodes.length - 1; i >= 0; i -= 1) {
        let childNode = contents.childNodes.item(i);
        if ((childNode.nodeType === 3 && childNode.textContent.trim().length === 0)
                || (childNode.nodeType === 1 && childNode.classList.contains("textblock") && childNode.textContent.trim().length === 0)) {
          childNode.remove();
        }
      }
    });
  </script>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top">
  <header>
    <img alt="Logo" src="arrowhead-logo-white.svg"/>
    <h1>Eclipse Arrowhead™ Core C Libraries <span class="version"></span></h1>
  </header>
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="files.html"><span>Headers</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e181be20417508ccbaf60a7ad88b28e5.html">ah_base</a></li><li class="navelem"><a class="el" href="dir_4e09807cd623eda32c4b1ef4b2b976fd.html">include</a></li><li class="navelem"><a class="el" href="dir_d9de5a19e148cb2028fab693738defa4.html">ah</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle"><div class="title">tcp.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Transmission Control Protocol (TCP) utilities. </p>
<p >TCP deals with the reliable transmissions of data streams via IP network connections. These connections are produced either by <em>connecting</em> to a remote host or <em>listening</em> for incoming connections. To give you more control over the medium through which the connections are made, we also provide a mechanism we refer to as <em>transports</em>. Please refer to <a href="https://www.rfc-editor.org/rfc/rfc9293.html">RFC9293</a> to learn more about TCP itself. Below, we briefly describe how to use this C API.</p>
<dl class="section note"><dt>Note</dt><dd>When we use the terms <em>remote</em> and <em>local</em> throughout this file, we do so from the perspective of individual connections rather than complete devices. In other words, when we consider a certain connection, that connection is local and whatever listener it connects to is remote. When we, on the other hand, consider a certain listener, that listener is local and whatever connection attempts it receives are remote. Whether the connections and listeners are physically located on different devices or processes is not of concern.</dd></dl>
<h3>Connections</h3>
<p >To set up a local connection to a remote listener, you call <a class="el" href="tcp_8h.html#a955ebbd02d1289b8320f674c10df6ad0" title="Initializes conn for subsequent use.">ah_tcp_conn_init()</a>, <a class="el" href="tcp_8h.html#a9b0b8aa27c41e046751ff8e5aef16e0a" title="Schedules opening of conn, which must be initialized, and its binding to the local network interface ...">ah_tcp_conn_open()</a> and <a class="el" href="tcp_8h.html#ad021bff04560ed679fac9a2b4cbe1eb6" title="Schedules connection of conn, which must be open, to raddr.">ah_tcp_conn_connect()</a>, in that order. Successfully initialized connections are terminated with <a class="el" href="tcp_8h.html#a682e009b75039d7519c03a12b3003389" title="Terminates conn, releasing any resources it may hold.">ah_tcp_conn_term()</a> and successfully opened connections are closed with <a class="el" href="tcp_8h.html#a38d50768b1f4668427f9b6b3ce0781fa" title="Schedules closing of conn.">ah_tcp_conn_close()</a>. If you wish to configure a connection by setting any of its options, such as by using <a class="el" href="tcp_8h.html#a86686d14fcdcc006fa35227f94642458" title="Sets the no-delay option of conn to is_enabled.">ah_tcp_conn_set_nodelay()</a>, it is typically most appropriate to do so after it has been opened and before it is connected. Every connection may receive data, and is notified of other events, via a <em>connection observer</em> of type <a class="el" href="structah__tcp__conn__obs.html" title="TCP connection observer.">ah_tcp_conn_obs</a>.</p>
<p >After being successfully connected to a remote host, a connection does not automatically enable receiving of data from its peer. The receiving of peer data must be enabled and disabled using <a class="el" href="tcp_8h.html#ad3396963f2fe0e14a1f25e827b8986b6" title="Enables receiving of incoming data via conn.">ah_tcp_conn_read_start()</a> and <a class="el" href="tcp_8h.html#a7e790143974cae17a164c49c0f383380" title="Disables receiving of incoming data via conn.">ah_tcp_conn_read_stop()</a> functions. You may also chose to shut down reading and/or writing using <a class="el" href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8" title="Shuts down the read and/or write direction of conn, as specified by flags.">ah_tcp_conn_shutdown()</a> when you know nothing else of interest will be read and/or written.</p>
<p >To write data to the remote peer of a connection, use the <a class="el" href="tcp_8h.html#abc1a087a4ba2365c7840f1b7c7c5f955" title="Schedules the sending of the data in out to the remote host of conn.">ah_tcp_conn_write()</a> function.</p>
<h3>Listeners</h3>
<p >Setting up a local TCP listener requires you to call <a class="el" href="tcp_8h.html#a7b7b79979c3ba3dcf75913682c1ba654" title="Initializes ln for subsequent use.">ah_tcp_listener_init()</a>, <a class="el" href="tcp_8h.html#ae1199a33fcf710aa960abe2ee4455339" title="Schedules opening of ln, which must be initialized, and its binding to the local network interface re...">ah_tcp_listener_open()</a> and <a class="el" href="tcp_8h.html#adf3e93adbcc809f855e9bbab9a794a32" title="Schedules for ln, which must be open, to start listening for incoming connections.">ah_tcp_listener_listen()</a>, in that order. Successfully initialized listeners are terminated with <a class="el" href="tcp_8h.html#aacb5e702cb7eed79686ea4f7dbafc1ed" title="Terminates ln, freeing any resources it holds.">ah_tcp_listener_term()</a> and successfully opened listeners are closed with <a class="el" href="tcp_8h.html#ae3930574e77123edd7402851f1613af2" title="Schedules closing of ln.">ah_tcp_listener_close()</a>. If you wish to configure a listener by setting any of its options, such as by using <a class="el" href="tcp_8h.html#a5a4d19d03f6dff2a2dd5a218a9c3c048" title="Sets the reuse address option of ln to is_enabled.">ah_tcp_listener_set_reuseaddr()</a>, it is typically most appropriate to do so after the listener has been opened and before it starts to listen for incoming connections. Every listener receives incoming connections and is notified of other events via its <em>listener observer</em>, which is of type <a class="el" href="structah__tcp__listener__obs.html" title="TCP listener observer.">ah_tcp_listener_obs</a>.</p>
<h3>Transports</h3>
<p >Data read and written using this API is concretely handled by a <em>transport</em>, represented by the <a class="el" href="structah__tcp__trans.html" title="TCP-based transport.">ah_tcp_trans</a> type, which is chosen whenever a given connection or listener is first initialized. The transport receives most function calls related to that connection or receiver, and is free to implement these functions however it sees fit.</p>
<p >Most uses of this API will involve the <em>default transport</em>, which will engage the actual TCP networking capabilities of the underlying platform. However, other transports may be used. For example, the ah_mbedtls library provides a TLS/SSL transport, which can be used to establish encrypted connections. Transports may chose to utilize other transports. In fact, the ah_mbedtls transport we just mentioned must be given another transport to function. You may want to use custom transports for testing purposes, logging, compression and decompression, and so on.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc9293.html">https://www.rfc-editor.org/rfc/rfc9293.html</a> </dd></dl>
</div>
<p><a href="tcp_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__accept.html">ah_tcp_accept</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP listener acceptance.  <a href="structah__tcp__accept.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP connection handle.  <a href="structah__tcp__conn.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__conn__cbs.html">ah_tcp_conn_cbs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP connection callback set.  <a href="structah__tcp__conn__cbs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__conn__obs.html">ah_tcp_conn_obs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP connection observer.  <a href="structah__tcp__conn__obs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__in.html">ah_tcp_in</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP input stream.  <a href="structah__tcp__in.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP listener handle.  <a href="structah__tcp__listener.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__listener__cbs.html">ah_tcp_listener_cbs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP listener callback set.  <a href="structah__tcp__listener__cbs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__listener__obs.html">ah_tcp_listener_obs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP listener observer.  <a href="structah__tcp__listener__obs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__out.html">ah_tcp_out</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP output buffer.  <a href="structah__tcp__out.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__trans.html">ah_tcp_trans</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP-based transport.  <a href="structah__tcp__trans.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__tcp__trans__vtab.html">ah_tcp_trans_vtab</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TCP-based transport virtual function table.  <a href="structah__tcp__trans__vtab.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae3fe835ee6ffaa0f1d9678bf985e3995"><td class="memItemLeft" align="right" valign="top"><a id="ae3fe835ee6ffaa0f1d9678bf985e3995" name="ae3fe835ee6ffaa0f1d9678bf985e3995"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AH_TCP_IN_BUF_SIZE</b>&#160;&#160;&#160;(<a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> - sizeof(<a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a>))</td></tr>
<tr class="memdesc:ae3fe835ee6ffaa0f1d9678bf985e3995"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum payload size of an <a class="el" href="structah__tcp__in.html" title="TCP input stream.">ah_tcp_in</a> instance allocated via <a class="el" href="tcp_8h.html#ac94f6cb0a0d0a89772033fcc40e0c57f" title="Allocates new input buffer, storing a pointer to it in owner_ptr.">ah_tcp_in_alloc_for()</a>. <br /></td></tr>
<tr class="separator:ae3fe835ee6ffaa0f1d9678bf985e3995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49df8c1e294033d0b1963047fe2b189b"><td class="memItemLeft" align="right" valign="top"><a id="a49df8c1e294033d0b1963047fe2b189b" name="a49df8c1e294033d0b1963047fe2b189b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AH_TCP_OUT_BUF_SIZE</b>&#160;&#160;&#160;(<a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> - sizeof(<a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a>))</td></tr>
<tr class="memdesc:a49df8c1e294033d0b1963047fe2b189b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum payload size of an <a class="el" href="structah__tcp__out.html" title="TCP output buffer.">ah_tcp_out</a> instance allocated via <a class="el" href="tcp_8h.html#a78d5daac853dc975676ea5303ebb2860" title="Dynamically allocates and partially initializes a TCP output buffer.">ah_tcp_out_alloc()</a>. <br /></td></tr>
<tr class="separator:a49df8c1e294033d0b1963047fe2b189b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b2b06dc7c1001393f8ef973123b5c6"><td class="memItemLeft" align="right" valign="top"><a id="a35b2b06dc7c1001393f8ef973123b5c6" name="a35b2b06dc7c1001393f8ef973123b5c6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AH_TCP_SHUTDOWN_RD</b>&#160;&#160;&#160;1u</td></tr>
<tr class="memdesc:a35b2b06dc7c1001393f8ef973123b5c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read shutdown flag that can be provided as argument to <a class="el" href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8" title="Shuts down the read and/or write direction of conn, as specified by flags.">ah_tcp_conn_shutdown()</a>. <br /></td></tr>
<tr class="separator:a35b2b06dc7c1001393f8ef973123b5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc401c1a5af3d4c2d7d1f9a56ed66654"><td class="memItemLeft" align="right" valign="top"><a id="acc401c1a5af3d4c2d7d1f9a56ed66654" name="acc401c1a5af3d4c2d7d1f9a56ed66654"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AH_TCP_SHUTDOWN_RDWR</b>&#160;&#160;&#160;3u</td></tr>
<tr class="memdesc:acc401c1a5af3d4c2d7d1f9a56ed66654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and write shutdown flag that can be provided as argument to <a class="el" href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8" title="Shuts down the read and/or write direction of conn, as specified by flags.">ah_tcp_conn_shutdown()</a>. <br /></td></tr>
<tr class="separator:acc401c1a5af3d4c2d7d1f9a56ed66654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4305a204c1679f54bdcf41bedeeb7cfe"><td class="memItemLeft" align="right" valign="top"><a id="a4305a204c1679f54bdcf41bedeeb7cfe" name="a4305a204c1679f54bdcf41bedeeb7cfe"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AH_TCP_SHUTDOWN_WR</b>&#160;&#160;&#160;2u</td></tr>
<tr class="memdesc:a4305a204c1679f54bdcf41bedeeb7cfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write shutdown flag that can be provided as argument to <a class="el" href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8" title="Shuts down the read and/or write direction of conn, as specified by flags.">ah_tcp_conn_shutdown()</a>. <br /></td></tr>
<tr class="separator:a4305a204c1679f54bdcf41bedeeb7cfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Connections</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__conn.html" title="TCP connection handle.">ah_tcp_conn</a> instances.</p>
<p >All such instances must be initialized using <a class="el" href="tcp_8h.html#a955ebbd02d1289b8320f674c10df6ad0" title="Initializes conn for subsequent use.">ah_tcp_conn_init()</a> before they are provided to any other functions listed here. Any other requirements regarding the state of connections are described in the documentation of each respective function, sometimes only via the error codes it lists. </p>
</div></td></tr>
<tr class="memitem:a38d50768b1f4668427f9b6b3ce0781fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a38d50768b1f4668427f9b6b3ce0781fa">ah_tcp_conn_close</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a38d50768b1f4668427f9b6b3ce0781fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules closing of <em>conn</em>.  <a href="tcp_8h.html#a38d50768b1f4668427f9b6b3ce0781fa">More...</a><br /></td></tr>
<tr class="separator:a38d50768b1f4668427f9b6b3ce0781fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad021bff04560ed679fac9a2b4cbe1eb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ad021bff04560ed679fac9a2b4cbe1eb6">ah_tcp_conn_connect</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *raddr)</td></tr>
<tr class="memdesc:ad021bff04560ed679fac9a2b4cbe1eb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules connection of <em>conn</em>, which must be open, to <em>raddr</em>.  <a href="tcp_8h.html#ad021bff04560ed679fac9a2b4cbe1eb6">More...</a><br /></td></tr>
<tr class="separator:ad021bff04560ed679fac9a2b4cbe1eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed024b95c777f772cdcbed2be720873"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a0ed024b95c777f772cdcbed2be720873">ah_tcp_conn_get_family</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a0ed024b95c777f772cdcbed2be720873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the socket family of <em>conn</em>.  <a href="tcp_8h.html#a0ed024b95c777f772cdcbed2be720873">More...</a><br /></td></tr>
<tr class="separator:a0ed024b95c777f772cdcbed2be720873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8ee7942f803821ad3dc5b5d8c43e07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#aed8ee7942f803821ad3dc5b5d8c43e07">ah_tcp_conn_get_laddr</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:aed8ee7942f803821ad3dc5b5d8c43e07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores local address bound by <em>conn</em> into <em>laddr</em>.  <a href="tcp_8h.html#aed8ee7942f803821ad3dc5b5d8c43e07">More...</a><br /></td></tr>
<tr class="separator:aed8ee7942f803821ad3dc5b5d8c43e07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167546baeed329bf9c5aad58fe9f2bc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a167546baeed329bf9c5aad58fe9f2bc6">ah_tcp_conn_get_loop</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a167546baeed329bf9c5aad58fe9f2bc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets pointer to event loop of <em>conn</em>.  <a href="tcp_8h.html#a167546baeed329bf9c5aad58fe9f2bc6">More...</a><br /></td></tr>
<tr class="separator:a167546baeed329bf9c5aad58fe9f2bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40f9c960ccc727a2fa3544f4293d3f9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a40f9c960ccc727a2fa3544f4293d3f9d">ah_tcp_conn_get_obs_ctx</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a40f9c960ccc727a2fa3544f4293d3f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the context pointer of the connection observer associated with <em>conn</em>.  <a href="tcp_8h.html#a40f9c960ccc727a2fa3544f4293d3f9d">More...</a><br /></td></tr>
<tr class="separator:a40f9c960ccc727a2fa3544f4293d3f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e216e580af9321b62cd3575b899fe8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ab9e216e580af9321b62cd3575b899fe8">ah_tcp_conn_get_raddr</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *raddr)</td></tr>
<tr class="memdesc:ab9e216e580af9321b62cd3575b899fe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores remote address of <em>conn</em> into <em>raddr</em>.  <a href="tcp_8h.html#ab9e216e580af9321b62cd3575b899fe8">More...</a><br /></td></tr>
<tr class="separator:ab9e216e580af9321b62cd3575b899fe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a955ebbd02d1289b8320f674c10df6ad0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a955ebbd02d1289b8320f674c10df6ad0">ah_tcp_conn_init</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, <a class="el" href="structah__loop.html">ah_loop_t</a> *loop, <a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a> trans, <a class="el" href="structah__tcp__conn__obs.html">ah_tcp_conn_obs_t</a> obs)</td></tr>
<tr class="memdesc:a955ebbd02d1289b8320f674c10df6ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <em>conn</em> for subsequent use.  <a href="tcp_8h.html#a955ebbd02d1289b8320f674c10df6ad0">More...</a><br /></td></tr>
<tr class="separator:a955ebbd02d1289b8320f674c10df6ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a453b8cfbadb30c801bf1f21921e64b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a6a453b8cfbadb30c801bf1f21921e64b">ah_tcp_conn_is_closed</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a6a453b8cfbadb30c801bf1f21921e64b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>conn</em> is in any closing or closed state.  <a href="tcp_8h.html#a6a453b8cfbadb30c801bf1f21921e64b">More...</a><br /></td></tr>
<tr class="separator:a6a453b8cfbadb30c801bf1f21921e64b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd6e9f250ee3edc4065e3c8745ea58b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#afbd6e9f250ee3edc4065e3c8745ea58b">ah_tcp_conn_is_readable</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:afbd6e9f250ee3edc4065e3c8745ea58b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>conn</em> can be read from.  <a href="tcp_8h.html#afbd6e9f250ee3edc4065e3c8745ea58b">More...</a><br /></td></tr>
<tr class="separator:afbd6e9f250ee3edc4065e3c8745ea58b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eda2ecc9cfd92c128874986e39bd176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a0eda2ecc9cfd92c128874986e39bd176">ah_tcp_conn_is_reading</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a0eda2ecc9cfd92c128874986e39bd176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>conn</em> is currently reading incoming data.  <a href="tcp_8h.html#a0eda2ecc9cfd92c128874986e39bd176">More...</a><br /></td></tr>
<tr class="separator:a0eda2ecc9cfd92c128874986e39bd176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62dc23e5d717fbd932ef75a46c4222a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a62dc23e5d717fbd932ef75a46c4222a0">ah_tcp_conn_is_writable</a> (const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a62dc23e5d717fbd932ef75a46c4222a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>conn</em> can be written to.  <a href="tcp_8h.html#a62dc23e5d717fbd932ef75a46c4222a0">More...</a><br /></td></tr>
<tr class="separator:a62dc23e5d717fbd932ef75a46c4222a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b0b8aa27c41e046751ff8e5aef16e0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a9b0b8aa27c41e046751ff8e5aef16e0a">ah_tcp_conn_open</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:a9b0b8aa27c41e046751ff8e5aef16e0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules opening of <em>conn</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>.  <a href="tcp_8h.html#a9b0b8aa27c41e046751ff8e5aef16e0a">More...</a><br /></td></tr>
<tr class="separator:a9b0b8aa27c41e046751ff8e5aef16e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3396963f2fe0e14a1f25e827b8986b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ad3396963f2fe0e14a1f25e827b8986b6">ah_tcp_conn_read_start</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:ad3396963f2fe0e14a1f25e827b8986b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables receiving of incoming data via <em>conn</em>.  <a href="tcp_8h.html#ad3396963f2fe0e14a1f25e827b8986b6">More...</a><br /></td></tr>
<tr class="separator:ad3396963f2fe0e14a1f25e827b8986b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e790143974cae17a164c49c0f383380"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a7e790143974cae17a164c49c0f383380">ah_tcp_conn_read_stop</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a7e790143974cae17a164c49c0f383380"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disables receiving of incoming data via <em>conn</em>.  <a href="tcp_8h.html#a7e790143974cae17a164c49c0f383380">More...</a><br /></td></tr>
<tr class="separator:a7e790143974cae17a164c49c0f383380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3706cf22deba57bb2b11b07cb43975c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a3706cf22deba57bb2b11b07cb43975c7">ah_tcp_conn_set_keepalive</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, bool is_enabled)</td></tr>
<tr class="memdesc:a3706cf22deba57bb2b11b07cb43975c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>keep-alive</em> option of <em>conn</em> to <em>is_enabled</em>.  <a href="tcp_8h.html#a3706cf22deba57bb2b11b07cb43975c7">More...</a><br /></td></tr>
<tr class="separator:a3706cf22deba57bb2b11b07cb43975c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86686d14fcdcc006fa35227f94642458"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a86686d14fcdcc006fa35227f94642458">ah_tcp_conn_set_nodelay</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, bool is_enabled)</td></tr>
<tr class="memdesc:a86686d14fcdcc006fa35227f94642458"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>no-delay</em> option of <em>conn</em> to <em>is_enabled</em>.  <a href="tcp_8h.html#a86686d14fcdcc006fa35227f94642458">More...</a><br /></td></tr>
<tr class="separator:a86686d14fcdcc006fa35227f94642458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae611250919438b361754462910ddc38b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ae611250919438b361754462910ddc38b">ah_tcp_conn_set_reuseaddr</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, bool is_enabled)</td></tr>
<tr class="memdesc:ae611250919438b361754462910ddc38b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>reuse address</em> option of <em>conn</em> to <em>is_enabled</em>.  <a href="tcp_8h.html#ae611250919438b361754462910ddc38b">More...</a><br /></td></tr>
<tr class="separator:ae611250919438b361754462910ddc38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2ed250a3a933a7da6757b14ac59c7f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8">ah_tcp_conn_shutdown</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, uint8_t flags)</td></tr>
<tr class="memdesc:ac2ed250a3a933a7da6757b14ac59c7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the read and/or write direction of <em>conn</em>, as specified by <em>flags</em>.  <a href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8">More...</a><br /></td></tr>
<tr class="separator:ac2ed250a3a933a7da6757b14ac59c7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682e009b75039d7519c03a12b3003389"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a682e009b75039d7519c03a12b3003389">ah_tcp_conn_term</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn)</td></tr>
<tr class="memdesc:a682e009b75039d7519c03a12b3003389"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates <em>conn</em>, releasing any resources it may hold.  <a href="tcp_8h.html#a682e009b75039d7519c03a12b3003389">More...</a><br /></td></tr>
<tr class="separator:a682e009b75039d7519c03a12b3003389"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1a087a4ba2365c7840f1b7c7c5f955"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#abc1a087a4ba2365c7840f1b7c7c5f955">ah_tcp_conn_write</a> (<a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *conn, <a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *out)</td></tr>
<tr class="memdesc:abc1a087a4ba2365c7840f1b7c7c5f955"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules the sending of the data in <em>out</em> to the remote host of <em>conn</em>.  <a href="tcp_8h.html#abc1a087a4ba2365c7840f1b7c7c5f955">More...</a><br /></td></tr>
<tr class="separator:abc1a087a4ba2365c7840f1b7c7c5f955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Connection Callback Sets</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__conn__cbs.html" title="TCP connection callback set.">ah_tcp_conn_cbs</a> instances. </p>
</div></td></tr>
<tr class="memitem:a41b2676a5c6542455f16d4cbfa12fbcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a41b2676a5c6542455f16d4cbfa12fbcc">ah_tcp_conn_cbs_is_valid_for_acceptance</a> (const <a class="el" href="structah__tcp__conn__cbs.html">ah_tcp_conn_cbs_t</a> *cbs)</td></tr>
<tr class="memdesc:a41b2676a5c6542455f16d4cbfa12fbcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>cbs</em> is valid for handling connections accepted by a TCP listener.  <a href="tcp_8h.html#a41b2676a5c6542455f16d4cbfa12fbcc">More...</a><br /></td></tr>
<tr class="separator:a41b2676a5c6542455f16d4cbfa12fbcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3e6c829b9d2c62331c9e6601d1fbf10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ab3e6c829b9d2c62331c9e6601d1fbf10">ah_tcp_conn_cbs_is_valid_for_connection</a> (const <a class="el" href="structah__tcp__conn__cbs.html">ah_tcp_conn_cbs_t</a> *cbs)</td></tr>
<tr class="memdesc:ab3e6c829b9d2c62331c9e6601d1fbf10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>cbs</em> is valid for handling connections initiated locally.  <a href="tcp_8h.html#ab3e6c829b9d2c62331c9e6601d1fbf10">More...</a><br /></td></tr>
<tr class="separator:ab3e6c829b9d2c62331c9e6601d1fbf10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Input Buffers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__in.html" title="TCP input stream.">ah_tcp_in</a> instances. </p>
</div></td></tr>
<tr class="memitem:ac94f6cb0a0d0a89772033fcc40e0c57f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ac94f6cb0a0d0a89772033fcc40e0c57f">ah_tcp_in_alloc_for</a> (<a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> **owner_ptr)</td></tr>
<tr class="memdesc:ac94f6cb0a0d0a89772033fcc40e0c57f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates new input buffer, storing a pointer to it in <em>owner_ptr</em>.  <a href="tcp_8h.html#ac94f6cb0a0d0a89772033fcc40e0c57f">More...</a><br /></td></tr>
<tr class="separator:ac94f6cb0a0d0a89772033fcc40e0c57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e5c98beada365d804771830144acbba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a5e5c98beada365d804771830144acbba">ah_tcp_in_detach</a> (<a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *in)</td></tr>
<tr class="memdesc:a5e5c98beada365d804771830144acbba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detaches input buffer <em>in</em> from its owner.  <a href="tcp_8h.html#a5e5c98beada365d804771830144acbba">More...</a><br /></td></tr>
<tr class="separator:a5e5c98beada365d804771830144acbba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a514a5a148b21f5a9a72ac648f22a5f9b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a514a5a148b21f5a9a72ac648f22a5f9b">ah_tcp_in_free</a> (<a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *in)</td></tr>
<tr class="memdesc:a514a5a148b21f5a9a72ac648f22a5f9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees heap memory associated with <em>in</em>.  <a href="tcp_8h.html#a514a5a148b21f5a9a72ac648f22a5f9b">More...</a><br /></td></tr>
<tr class="separator:a514a5a148b21f5a9a72ac648f22a5f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab94fcd820e7b7fdadd89ed19062f2fe0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ab94fcd820e7b7fdadd89ed19062f2fe0">ah_tcp_in_repackage</a> (<a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *in)</td></tr>
<tr class="memdesc:ab94fcd820e7b7fdadd89ed19062f2fe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves the readable bytes of <em>in</em> to the beginning of its internal buffer.  <a href="tcp_8h.html#ab94fcd820e7b7fdadd89ed19062f2fe0">More...</a><br /></td></tr>
<tr class="separator:ab94fcd820e7b7fdadd89ed19062f2fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc3d83de1a116cac491032a3f16e51b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a1cc3d83de1a116cac491032a3f16e51b">ah_tcp_in_reset</a> (<a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *in)</td></tr>
<tr class="memdesc:a1cc3d83de1a116cac491032a3f16e51b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets <em>in</em>, making all of its payload memory writable.  <a href="tcp_8h.html#a1cc3d83de1a116cac491032a3f16e51b">More...</a><br /></td></tr>
<tr class="separator:a1cc3d83de1a116cac491032a3f16e51b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Listeners</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__listener.html" title="TCP listener handle.">ah_tcp_listener</a> instances.</p>
<p >All such instances must be initialized using <a class="el" href="tcp_8h.html#a7b7b79979c3ba3dcf75913682c1ba654" title="Initializes ln for subsequent use.">ah_tcp_listener_init()</a> before they are provided to any other functions listed here. Any other requirements regarding the state of listeners are described in the documentation of each respective function, sometimes only via the error codes it lists. </p>
</div></td></tr>
<tr class="memitem:ae3930574e77123edd7402851f1613af2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ae3930574e77123edd7402851f1613af2">ah_tcp_listener_close</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln)</td></tr>
<tr class="memdesc:ae3930574e77123edd7402851f1613af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules closing of <em>ln</em>.  <a href="tcp_8h.html#ae3930574e77123edd7402851f1613af2">More...</a><br /></td></tr>
<tr class="separator:ae3930574e77123edd7402851f1613af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb39dee87f4d52985f787ef5058bd482"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#adb39dee87f4d52985f787ef5058bd482">ah_tcp_listener_get_family</a> (const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln)</td></tr>
<tr class="memdesc:adb39dee87f4d52985f787ef5058bd482"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the socket family of <em>ln</em>.  <a href="tcp_8h.html#adb39dee87f4d52985f787ef5058bd482">More...</a><br /></td></tr>
<tr class="separator:adb39dee87f4d52985f787ef5058bd482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fcfe0d8cea97601b9727354a3cad525"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a3fcfe0d8cea97601b9727354a3cad525">ah_tcp_listener_get_laddr</a> (const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:a3fcfe0d8cea97601b9727354a3cad525"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores local address bound by <em>ln</em> into <em>laddr</em>.  <a href="tcp_8h.html#a3fcfe0d8cea97601b9727354a3cad525">More...</a><br /></td></tr>
<tr class="separator:a3fcfe0d8cea97601b9727354a3cad525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9ff411093efabb788ac77b96aaf8e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a5c9ff411093efabb788ac77b96aaf8e7">ah_tcp_listener_get_loop</a> (const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln)</td></tr>
<tr class="memdesc:a5c9ff411093efabb788ac77b96aaf8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets pointer to event loop of <em>ln</em>.  <a href="tcp_8h.html#a5c9ff411093efabb788ac77b96aaf8e7">More...</a><br /></td></tr>
<tr class="separator:a5c9ff411093efabb788ac77b96aaf8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf135edc360bd91c62994b9c14307209"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#abf135edc360bd91c62994b9c14307209">ah_tcp_listener_get_obs_ctx</a> (const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln)</td></tr>
<tr class="memdesc:abf135edc360bd91c62994b9c14307209"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the context pointer of the listener observer associated with <em>conn</em>.  <a href="tcp_8h.html#abf135edc360bd91c62994b9c14307209">More...</a><br /></td></tr>
<tr class="separator:abf135edc360bd91c62994b9c14307209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7b79979c3ba3dcf75913682c1ba654"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a7b7b79979c3ba3dcf75913682c1ba654">ah_tcp_listener_init</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, <a class="el" href="structah__loop.html">ah_loop_t</a> *loop, <a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a> trans, <a class="el" href="structah__tcp__listener__obs.html">ah_tcp_listener_obs_t</a> obs)</td></tr>
<tr class="memdesc:a7b7b79979c3ba3dcf75913682c1ba654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <em>ln</em> for subsequent use.  <a href="tcp_8h.html#a7b7b79979c3ba3dcf75913682c1ba654">More...</a><br /></td></tr>
<tr class="separator:a7b7b79979c3ba3dcf75913682c1ba654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d4d6bcc81e82a487ed78b2bfa97b3c2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a4d4d6bcc81e82a487ed78b2bfa97b3c2">ah_tcp_listener_is_closed</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln)</td></tr>
<tr class="memdesc:a4d4d6bcc81e82a487ed78b2bfa97b3c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>ln</em> is in any closing or closed state.  <a href="tcp_8h.html#a4d4d6bcc81e82a487ed78b2bfa97b3c2">More...</a><br /></td></tr>
<tr class="separator:a4d4d6bcc81e82a487ed78b2bfa97b3c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf3e93adbcc809f855e9bbab9a794a32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#adf3e93adbcc809f855e9bbab9a794a32">ah_tcp_listener_listen</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, unsigned backlog)</td></tr>
<tr class="memdesc:adf3e93adbcc809f855e9bbab9a794a32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules for <em>ln</em>, which must be open, to start listening for incoming connections.  <a href="tcp_8h.html#adf3e93adbcc809f855e9bbab9a794a32">More...</a><br /></td></tr>
<tr class="separator:adf3e93adbcc809f855e9bbab9a794a32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1199a33fcf710aa960abe2ee4455339"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ae1199a33fcf710aa960abe2ee4455339">ah_tcp_listener_open</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:ae1199a33fcf710aa960abe2ee4455339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules opening of <em>ln</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>.  <a href="tcp_8h.html#ae1199a33fcf710aa960abe2ee4455339">More...</a><br /></td></tr>
<tr class="separator:ae1199a33fcf710aa960abe2ee4455339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c57ec8fdbc4a0eff00354eb9960091a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a0c57ec8fdbc4a0eff00354eb9960091a">ah_tcp_listener_set_keepalive</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, bool is_enabled)</td></tr>
<tr class="memdesc:a0c57ec8fdbc4a0eff00354eb9960091a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>keep-alive</em> option of <em>ln</em> to <em>is_enabled</em>.  <a href="tcp_8h.html#a0c57ec8fdbc4a0eff00354eb9960091a">More...</a><br /></td></tr>
<tr class="separator:a0c57ec8fdbc4a0eff00354eb9960091a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4fa17e45c65fcf4f9e4472da2b3b8c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ad4fa17e45c65fcf4f9e4472da2b3b8c7">ah_tcp_listener_set_nodelay</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, bool is_enabled)</td></tr>
<tr class="memdesc:ad4fa17e45c65fcf4f9e4472da2b3b8c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>no-delay</em> option of <em>ln</em> to <em>is_enabled</em>.  <a href="tcp_8h.html#ad4fa17e45c65fcf4f9e4472da2b3b8c7">More...</a><br /></td></tr>
<tr class="separator:ad4fa17e45c65fcf4f9e4472da2b3b8c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4d19d03f6dff2a2dd5a218a9c3c048"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a5a4d19d03f6dff2a2dd5a218a9c3c048">ah_tcp_listener_set_reuseaddr</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln, bool is_enabled)</td></tr>
<tr class="memdesc:a5a4d19d03f6dff2a2dd5a218a9c3c048"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the <em>reuse address</em> option of <em>ln</em> to <em>is_enabled</em>.  <a href="tcp_8h.html#a5a4d19d03f6dff2a2dd5a218a9c3c048">More...</a><br /></td></tr>
<tr class="separator:a5a4d19d03f6dff2a2dd5a218a9c3c048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb5e702cb7eed79686ea4f7dbafc1ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#aacb5e702cb7eed79686ea4f7dbafc1ed">ah_tcp_listener_term</a> (<a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *ln)</td></tr>
<tr class="memdesc:aacb5e702cb7eed79686ea4f7dbafc1ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates <em>ln</em>, freeing any resources it holds.  <a href="tcp_8h.html#aacb5e702cb7eed79686ea4f7dbafc1ed">More...</a><br /></td></tr>
<tr class="separator:aacb5e702cb7eed79686ea4f7dbafc1ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Listener Callback Sets</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__listener__cbs.html" title="TCP listener callback set.">ah_tcp_listener_cbs</a> instances. </p>
</div></td></tr>
<tr class="memitem:a8642838111a91ff3f3770c35784e159d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a8642838111a91ff3f3770c35784e159d">ah_tcp_listener_cbs_is_valid</a> (const <a class="el" href="structah__tcp__listener__cbs.html">ah_tcp_listener_cbs_t</a> *cbs)</td></tr>
<tr class="memdesc:a8642838111a91ff3f3770c35784e159d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>cbs</em> is valid for handling TCP listener events.  <a href="tcp_8h.html#a8642838111a91ff3f3770c35784e159d">More...</a><br /></td></tr>
<tr class="separator:a8642838111a91ff3f3770c35784e159d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Output Buffers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__out.html" title="TCP output buffer.">ah_tcp_out</a> instances. </p>
</div></td></tr>
<tr class="memitem:a78d5daac853dc975676ea5303ebb2860"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a78d5daac853dc975676ea5303ebb2860">ah_tcp_out_alloc</a> (void)</td></tr>
<tr class="memdesc:a78d5daac853dc975676ea5303ebb2860"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically allocates and partially initializes a TCP output buffer.  <a href="tcp_8h.html#a78d5daac853dc975676ea5303ebb2860">More...</a><br /></td></tr>
<tr class="separator:a78d5daac853dc975676ea5303ebb2860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42f551bcffe5827ad1ecf1b214c69d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#ab42f551bcffe5827ad1ecf1b214c69d4">ah_tcp_out_free</a> (<a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *out)</td></tr>
<tr class="memdesc:ab42f551bcffe5827ad1ecf1b214c69d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees output buffer previously allocated using <a class="el" href="tcp_8h.html#a78d5daac853dc975676ea5303ebb2860" title="Dynamically allocates and partially initializes a TCP output buffer.">ah_tcp_out_alloc()</a>.  <a href="tcp_8h.html#ab42f551bcffe5827ad1ecf1b214c69d4">More...</a><br /></td></tr>
<tr class="separator:ab42f551bcffe5827ad1ecf1b214c69d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">TCP Transports</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__tcp__trans.html" title="TCP-based transport.">ah_tcp_trans</a> and related type instances. </p>
</div></td></tr>
<tr class="memitem:a2e1036666246ca220df8fe04efedc991"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a2e1036666246ca220df8fe04efedc991">ah_tcp_trans_get_default</a> (void)</td></tr>
<tr class="memdesc:a2e1036666246ca220df8fe04efedc991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a copy of the root TCP transport.  <a href="tcp_8h.html#a2e1036666246ca220df8fe04efedc991">More...</a><br /></td></tr>
<tr class="separator:a2e1036666246ca220df8fe04efedc991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b113620283c060df4fe657c20abebbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tcp_8h.html#a6b113620283c060df4fe657c20abebbf">ah_tcp_trans_vtab_is_valid</a> (const <a class="el" href="structah__tcp__trans__vtab.html">ah_tcp_trans_vtab_t</a> *vtab)</td></tr>
<tr class="memdesc:a6b113620283c060df4fe657c20abebbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if every field of <em>vtab</em> is set, making it valid for use as part of a TCP transport.  <a href="tcp_8h.html#a6b113620283c060df4fe657c20abebbf">More...</a><br /></td></tr>
<tr class="separator:a6b113620283c060df4fe657c20abebbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a41b2676a5c6542455f16d4cbfa12fbcc" name="a41b2676a5c6542455f16d4cbfa12fbcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41b2676a5c6542455f16d4cbfa12fbcc">&#9670;&#160;</a></span>ah_tcp_conn_cbs_is_valid_for_acceptance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_conn_cbs_is_valid_for_acceptance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn__cbs.html">ah_tcp_conn_cbs_t</a> *&#160;</td>
          <td class="paramname"><em>cbs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>cbs</em> is valid for handling connections accepted by a TCP listener. </p>
<p >Such a valid callback set has all of its function pointers set except for <a class="el" href="structah__tcp__conn__cbs.html#a0a44ae428dd85ea371dd784c6bf3d761" title="conn has been opened, or the attempt failed.">ah_tcp_conn_cbs::on_open</a> and <a class="el" href="structah__tcp__conn__cbs.html#affca96bcd739ad83394c9de2991f9864" title="conn has been established to a specified remote host, or the attempt to establish it has failed.">ah_tcp_conn_cbs::on_connect</a>, which may or may not be set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbs</td><td>Pointer to TCP connection callback set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>cbs</em> is <em>valid</em>. <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="ab3e6c829b9d2c62331c9e6601d1fbf10" name="ab3e6c829b9d2c62331c9e6601d1fbf10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3e6c829b9d2c62331c9e6601d1fbf10">&#9670;&#160;</a></span>ah_tcp_conn_cbs_is_valid_for_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_conn_cbs_is_valid_for_connection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn__cbs.html">ah_tcp_conn_cbs_t</a> *&#160;</td>
          <td class="paramname"><em>cbs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>cbs</em> is valid for handling connections initiated locally. </p>
<p >Such a valid callback set has all of its function pointers set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbs</td><td>Pointer to TCP connection callback set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>cbs</em> is <em>valid</em>. <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a38d50768b1f4668427f9b6b3ce0781fa" name="a38d50768b1f4668427f9b6b3ce0781fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d50768b1f4668427f9b6b3ce0781fa">&#9670;&#160;</a></span>ah_tcp_conn_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules closing of <em>conn</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the closing could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__tcp__conn__cbs.html#a3a40aac8c559757a3fb0d819cf6d1f75" title="conn has been closed.">ah_tcp_conn_cbs::on_close</a> callback of <em>conn</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause the following error code to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not open. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully opened connection. </dd></dl>

</div>
</div>
<a id="ad021bff04560ed679fac9a2b4cbe1eb6" name="ad021bff04560ed679fac9a2b4cbe1eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad021bff04560ed679fac9a2b4cbe1eb6">&#9670;&#160;</a></span>ah_tcp_conn_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>raddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules connection of <em>conn</em>, which must be open, to <em>raddr</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that connection could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__tcp__conn__cbs.html#affca96bcd739ad83394c9de2991f9864" title="conn has been established to a specified remote host, or the attempt to establish it has failed.">ah_tcp_conn_cbs::on_connect</a> callback of <em>conn</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">raddr</td><td>Pointer to socket address representing the remote host to which the connection is to be established. If connection is successful, the referenced address must remain valid until <em>conn</em> is closed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - <em>raddr</em> is not an IP-based address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>conn</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> or <em>raddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not open. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Data receiving is disabled for new connections by default. Is must be explicitly enabled via a call to <a class="el" href="tcp_8h.html#ad3396963f2fe0e14a1f25e827b8986b6" title="Enables receiving of incoming data via conn.">ah_tcp_conn_read_start()</a>.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully opened connection. An appropriate place to call this function is often going to be in an <a class="el" href="structah__tcp__conn__cbs.html#a0a44ae428dd85ea371dd784c6bf3d761" title="conn has been opened, or the attempt failed.">ah_tcp_conn_cbs::on_open</a> callback after a check that opening was successful. </dd></dl>

</div>
</div>
<a id="a0ed024b95c777f772cdcbed2be720873" name="a0ed024b95c777f772cdcbed2be720873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ed024b95c777f772cdcbed2be720873">&#9670;&#160;</a></span>ah_tcp_conn_get_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> int ah_tcp_conn_get_family </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the socket family of <em>conn</em>. </p>
<p >For most TCP transports you may expect this socket family to be the same as was specified in the call to <a class="el" href="tcp_8h.html#a9b0b8aa27c41e046751ff8e5aef16e0a" title="Schedules opening of conn, which must be initialized, and its binding to the local network interface ...">ah_tcp_conn_open()</a> through which <em>conn</em> was first opened.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Socket family identifier or <code>-1</code> if <em>conn</em> is <code>NULL</code> or some other error occurred. If the <em>default transport</em> is used, the following identifiers may be produced: <ul>
<li>
<a class="el" href="sock_8h.html#addbceb63fc0c8a95b1c099d78fc2d43f">AH_SOCKFAMILY_IPV4</a> - IPv4 family identifier. </li>
<li>
<a class="el" href="sock_8h.html#ad30f453f30bfb73cf96e7fad8a136a5e">AH_SOCKFAMILY_IPV6</a> - IPv6 family identifier. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aed8ee7942f803821ad3dc5b5d8c43e07" name="aed8ee7942f803821ad3dc5b5d8c43e07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8ee7942f803821ad3dc5b5d8c43e07">&#9670;&#160;</a></span>ah_tcp_conn_get_laddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_get_laddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores local address bound by <em>conn</em> into <em>laddr</em>. </p>
<p >If <em>conn</em> was opened with a zero port, this function <em>should</em> report what concrete port was assigned to <em>conn</em>. If the <em>default transport</em> is used and this call is not intercepted by an intermediary transport, this function <em>will</em> report the assigned port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address to be set by this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a167546baeed329bf9c5aad58fe9f2bc6" name="a167546baeed329bf9c5aad58fe9f2bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167546baeed329bf9c5aad58fe9f2bc6">&#9670;&#160;</a></span>ah_tcp_conn_get_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> * ah_tcp_conn_get_loop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets pointer to event loop of <em>conn</em>. </p>
<p >This event loop <em>should</em> be the same one as was provided when <em>conn</em> was first initialized via a call to <a class="el" href="tcp_8h.html#a955ebbd02d1289b8320f674c10df6ad0" title="Initializes conn for subsequent use.">ah_tcp_conn_init()</a>. If the <em>default transport</em> is used and this function is not intercepted by an intermediary transport, this function <em>will</em> return the mentioned original event loop pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Loop pointer, or <code>NULL</code> if <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. Also returns <code>NULL</code> if the loop pointer itself is <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="a40f9c960ccc727a2fa3544f4293d3f9d" name="a40f9c960ccc727a2fa3544f4293d3f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40f9c960ccc727a2fa3544f4293d3f9d">&#9670;&#160;</a></span>ah_tcp_conn_get_obs_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void * ah_tcp_conn_get_obs_ctx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the context pointer of the connection observer associated with <em>conn</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Context pointer, or <code>NULL</code> if <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. Also returns <code>NULL</code> if the context pointer itself is <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="ab9e216e580af9321b62cd3575b899fe8" name="ab9e216e580af9321b62cd3575b899fe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e216e580af9321b62cd3575b899fe8">&#9670;&#160;</a></span>ah_tcp_conn_get_raddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_get_raddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>raddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores remote address of <em>conn</em> into <em>raddr</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">raddr</td><td>Pointer to socket address to be set by this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>raddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not connected to a remote host. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a955ebbd02d1289b8320f674c10df6ad0" name="a955ebbd02d1289b8320f674c10df6ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955ebbd02d1289b8320f674c10df6ad0">&#9670;&#160;</a></span>ah_tcp_conn_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn__obs.html">ah_tcp_conn_obs_t</a>&#160;</td>
          <td class="paramname"><em>obs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes <em>conn</em> for subsequent use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">loop</td><td>Pointer to event loop. </td></tr>
    <tr><td class="paramname">trans</td><td>Desired transport. </td></tr>
    <tr><td class="paramname">obs</td><td>Pointer to event callback set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code>, <em>trans</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>trans</em> <code>-&gt;vtab-&gt;conn_init</code> is <code>NULL</code>. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>loop</em> or <em>cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>trans</em> <code>vtab</code> is invalid, as reported by <a class="el" href="tcp_8h.html#a6b113620283c060df4fe657c20abebbf" title="Checks if every field of vtab is set, making it valid for use as part of a TCP transport.">ah_tcp_trans_vtab_is_valid()</a>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>obs</em> <code>cbs</code> is invalid, as reported by <a class="el" href="tcp_8h.html#ab3e6c829b9d2c62331c9e6601d1fbf10" title="Checks if cbs is valid for handling connections initiated locally.">ah_tcp_conn_cbs_is_valid_for_connection()</a>. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully initialized <em>conn</em> must eventually be provided to <a class="el" href="tcp_8h.html#a682e009b75039d7519c03a12b3003389" title="Terminates conn, releasing any resources it may hold.">ah_tcp_conn_term()</a>. Normally, this is done in two places: <ol>
<li>
in the <a class="el" href="structah__tcp__conn__cbs.html#a0a44ae428dd85ea371dd784c6bf3d761" title="conn has been opened, or the attempt failed.">ah_tcp_conn_cbs::on_open</a> callback of <em>conn</em> after a check that its <code>err</code> argument is not <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, and </li>
<li>
unconditionally in the <a class="el" href="structah__tcp__conn__cbs.html#a3a40aac8c559757a3fb0d819cf6d1f75" title="conn has been closed.">ah_tcp_conn_cbs::on_close</a> callback. </li>
</ol>
</dd></dl>

</div>
</div>
<a id="a6a453b8cfbadb30c801bf1f21921e64b" name="a6a453b8cfbadb30c801bf1f21921e64b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a453b8cfbadb30c801bf1f21921e64b">&#9670;&#160;</a></span>ah_tcp_conn_is_closed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_conn_is_closed </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>conn</em> is in any closing or closed state. </p>
<p >Also newly initialized and terminated connections are considered closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>conn</em> is currently closing or closed. <code>false</code> if <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function on terminated connections is inherently unsafe, unless they are known not have their memory invalidated when they are terminated. </dd></dl>

</div>
</div>
<a id="afbd6e9f250ee3edc4065e3c8745ea58b" name="afbd6e9f250ee3edc4065e3c8745ea58b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd6e9f250ee3edc4065e3c8745ea58b">&#9670;&#160;</a></span>ah_tcp_conn_is_readable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_conn_is_readable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>conn</em> can be read from. </p>
<p >A readable connection is currently connected and has not had its read direction shut down.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>conn</em> is currently readable. <code>false</code> if <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </dd></dl>

</div>
</div>
<a id="a0eda2ecc9cfd92c128874986e39bd176" name="a0eda2ecc9cfd92c128874986e39bd176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eda2ecc9cfd92c128874986e39bd176">&#9670;&#160;</a></span>ah_tcp_conn_is_reading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_conn_is_reading </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>conn</em> is currently reading incoming data. </p>
<p >A connection is reading if its currently connected and <a class="el" href="tcp_8h.html#ad3396963f2fe0e14a1f25e827b8986b6" title="Enables receiving of incoming data via conn.">ah_tcp_conn_read_start()</a> has been called with the same connection as argument. In addition, neither of <a class="el" href="tcp_8h.html#a7e790143974cae17a164c49c0f383380" title="Disables receiving of incoming data via conn.">ah_tcp_conn_read_stop()</a> or <a class="el" href="tcp_8h.html#ac2ed250a3a933a7da6757b14ac59c7f8" title="Shuts down the read and/or write direction of conn, as specified by flags.">ah_tcp_conn_shutdown()</a> has since been used to stop or shutdown its read direction.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>conn</em> is currently reading, as defined above. <code>false</code> if <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </dd></dl>

</div>
</div>
<a id="a62dc23e5d717fbd932ef75a46c4222a0" name="a62dc23e5d717fbd932ef75a46c4222a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62dc23e5d717fbd932ef75a46c4222a0">&#9670;&#160;</a></span>ah_tcp_conn_is_writable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_conn_is_writable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>conn</em> can be written to. </p>
<p >A writable connection is currently connected and has not had its write direction shut down.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>conn</em> is currently writable. <code>false</code> if <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </dd></dl>

</div>
</div>
<a id="a9b0b8aa27c41e046751ff8e5aef16e0a" name="a9b0b8aa27c41e046751ff8e5aef16e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b0b8aa27c41e046751ff8e5aef16e0a">&#9670;&#160;</a></span>ah_tcp_conn_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules opening of <em>conn</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the open attempt could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__tcp__conn__cbs.html#a0a44ae428dd85ea371dd784c6bf3d761" title="conn has been opened, or the attempt failed.">ah_tcp_conn_cbs::on_open</a> callback of <em>conn</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address representing a local network interface through which the connection must later be established. If opening is successful, the referenced address must remain valid for the entire lifetime of the created connection. To bind to all or any local network interface, provide the wildcard address (see ah_sockaddr_ipv4_wildcard and ah_sockaddr_ipv6_wildcard). If you want the platform to chose port number automatically, specify port <code>0</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - <em>laddr</em> is not an IP-based address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>conn</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> can be determined not to have been properly initialized. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully opened <em>conn</em> must eventually be provided to <a class="el" href="tcp_8h.html#a38d50768b1f4668427f9b6b3ce0781fa" title="Schedules closing of conn.">ah_tcp_conn_close()</a>.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully initialized connection. </dd></dl>

</div>
</div>
<a id="ad3396963f2fe0e14a1f25e827b8986b6" name="ad3396963f2fe0e14a1f25e827b8986b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3396963f2fe0e14a1f25e827b8986b6">&#9670;&#160;</a></span>ah_tcp_conn_read_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_read_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables receiving of incoming data via <em>conn</em>. </p>
<p >When the receiving of data is enabled, the <a class="el" href="structah__tcp__conn__cbs.html#a8e102f250e05480f145fb166d398e4ee" title="conn has received data from its associated remote host.">ah_tcp_conn_cbs::on_read</a> callback of <em>conn</em> will be invoked whenever incoming data is received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>conn</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - <a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> is too small for it to be possible to store both required metadata <em>and</em> read data in a single page provided by the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>). </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not connected or its read direction is shut down. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully connected connection. An appropriate place to call this function is often going to be in an <a class="el" href="structah__tcp__conn__cbs.html#affca96bcd739ad83394c9de2991f9864" title="conn has been established to a specified remote host, or the attempt to establish it has failed.">ah_tcp_conn_cbs::on_connect</a> callback after a check that the connection attempt was successful. </dd></dl>

</div>
</div>
<a id="a7e790143974cae17a164c49c0f383380" name="a7e790143974cae17a164c49c0f383380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e790143974cae17a164c49c0f383380">&#9670;&#160;</a></span>ah_tcp_conn_read_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_read_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disables receiving of incoming data via <em>conn</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause the following error code to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> reading not started. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>It is acceptable to call this function immediately after a successful call to <a class="el" href="tcp_8h.html#ad3396963f2fe0e14a1f25e827b8986b6" title="Enables receiving of incoming data via conn.">ah_tcp_conn_read_start()</a> with the same <em>conn</em>, even if that means that <em>conn</em> never had a practical chance to start reading.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a connection that has successfully started reading. </dd></dl>

</div>
</div>
<a id="a3706cf22deba57bb2b11b07cb43975c7" name="a3706cf22deba57bb2b11b07cb43975c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3706cf22deba57bb2b11b07cb43975c7">&#9670;&#160;</a></span>ah_tcp_conn_set_keepalive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_set_keepalive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <em>keep-alive</em> option of <em>conn</em> to <em>is_enabled</em>. </p>
<p >This option enables or disables keep-alive messaging. Generally, using such messaging means that <em>conn</em> automatically sends messages at sensible times to check if the connection is in a usable condition. The exact implications of this option depends on the platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Whether keep-alive is to be enabled or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a86686d14fcdcc006fa35227f94642458" name="a86686d14fcdcc006fa35227f94642458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86686d14fcdcc006fa35227f94642458">&#9670;&#160;</a></span>ah_tcp_conn_set_nodelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_set_nodelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <em>no-delay</em> option of <em>conn</em> to <em>is_enabled</em>. </p>
<p >This option being enabled means that use of Nagle's algorithm is disabled. The mentioned algorithm queues up messages for a short time before sending them over the network. The purpose of this is to reduce the number of TCP segments submitted over the used network. Its disadvantage is that it may increase messaging latency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Whether keep-alive is to be enabled or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ae611250919438b361754462910ddc38b" name="ae611250919438b361754462910ddc38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae611250919438b361754462910ddc38b">&#9670;&#160;</a></span>ah_tcp_conn_set_reuseaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_set_reuseaddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <em>reuse address</em> option of <em>conn</em> to <em>is_enabled</em>. </p>
<p >Address reuse generally means that a the specific combination of local interface address and port number bound by this connection can be reused right after it closes. Address reuse can lead to security implications as it may enable a malicious process on the same platform to hijack a closed connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Whether keep-alive is to be enabled or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ac2ed250a3a933a7da6757b14ac59c7f8" name="ac2ed250a3a933a7da6757b14ac59c7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2ed250a3a933a7da6757b14ac59c7f8">&#9670;&#160;</a></span>ah_tcp_conn_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_shutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down the read and/or write direction of <em>conn</em>, as specified by <em>flags</em>. </p>
<p >When and how the read and/or write directions of <em>conn</em> are shut down varies with the underlying platform. No guarantees are given about how fast the platform will release any resources associated with reading or writing. What is guaranteed, however, is that further reads and writes you issue via <em>conn</em> will be rejected and that the results of any on-going reads and/or writes will be silently discarded.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">flags</td><td>Shutdown flags. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#ab8d5cedace87ebddbdba1e5de4753f24">AH_ECONNABORTED</a> [Win32] - Connection has been aborted. </li>
<li>
<a class="el" href="err_8h.html#ab310ce2b0cf2be43ae8f7bc50288819c">AH_ECONNRESET</a> [Win32] - Connection has been reset by its remote host. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not connected. </li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>A connection with both of its read and write directions shut down is not considered as being closed. Every connection must eventually be provided to <a class="el" href="tcp_8h.html#a38d50768b1f4668427f9b6b3ce0781fa" title="Schedules closing of conn.">ah_tcp_conn_close()</a>, irrespective of any direction being shutdown. </dd></dl>

</div>
</div>
<a id="a682e009b75039d7519c03a12b3003389" name="a682e009b75039d7519c03a12b3003389"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682e009b75039d7519c03a12b3003389">&#9670;&#160;</a></span>ah_tcp_conn_term()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_term </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates <em>conn</em>, releasing any resources it may hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause the following error code to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not closed. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully closed connection. </dd></dl>

</div>
</div>
<a id="abc1a087a4ba2365c7840f1b7c7c5f955" name="abc1a087a4ba2365c7840f1b7c7c5f955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc1a087a4ba2365c7840f1b7c7c5f955">&#9670;&#160;</a></span>ah_tcp_conn_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_conn_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules the sending of the data in <em>out</em> to the remote host of <em>conn</em>. </p>
<p >An output buffer can be allocated on the heap using <a class="el" href="tcp_8h.html#a78d5daac853dc975676ea5303ebb2860" title="Dynamically allocates and partially initializes a TCP output buffer.">ah_tcp_out_alloc()</a>. If you want to store the buffer memory somewhere else, just zero an <a class="el" href="structah__tcp__out.html" title="TCP output buffer.">ah_tcp_out</a> instance and then initialize its <code>buf</code> field.</p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the sending could indeed be scheduled, the result of the sending will eventually be presented via the <a class="el" href="structah__tcp__conn__cbs.html#a8272e524f9d4e421f185ed68f034f611" title="conn has sent data to its associated remote host.">ah_tcp_conn_cbs::on_write</a> callback of <em>conn</em>. More specifically, the callback is invoked either if an error occurs or after all data in <em>out</em> has been successfully transmitted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">out</td><td>Pointer to outgoing data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>conn</em> is <code>NULL</code> or the transport of <em>conn</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>conn</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>out</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>conn</em> is not connected or its write direction is shut down. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully connected connection. </dd></dl>

</div>
</div>
<a id="ac94f6cb0a0d0a89772033fcc40e0c57f" name="ac94f6cb0a0d0a89772033fcc40e0c57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac94f6cb0a0d0a89772033fcc40e0c57f">&#9670;&#160;</a></span>ah_tcp_in_alloc_for()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_in_alloc_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> **&#160;</td>
          <td class="paramname"><em>owner_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates new input buffer, storing a pointer to it in <em>owner_ptr</em>. </p>
<p >The allocated input buffer is stored to <em>owner_ptr</em> <em>and</em> contains its own copy of <em>owner_ptr</em>. The buffer can later be detached from its owner by a call to <a class="el" href="tcp_8h.html#a5e5c98beada365d804771830144acbba" title="Detaches input buffer in from its owner.">ah_tcp_in_detach()</a>, which sets the copy to <code>NULL</code> and replaces the pointer pointed to by <em>owner_ptr</em> with that of a new input buffer.</p>
<p >Every input buffer allocated with this function must eventually be provided to <a class="el" href="tcp_8h.html#a514a5a148b21f5a9a72ac648f22a5f9b" title="Frees heap memory associated with in.">ah_tcp_in_free()</a>. It is the responsibility of the owner of each instance to make sure this is the case.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">owner_ptr</td><td>Pointer to own pointer to allocated input buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>owner_ptr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - No enough heap memory available (<a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a> returned <code>NULL</code>). </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - <a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> is too small for it to be possible to store both an <a class="el" href="structah__tcp__in.html" title="TCP input stream.">ah_tcp_in</a> instance <em>and</em> have room for input data in a single page provided by the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>). </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should primarily be of interest to those both wishing to implement their own TCP transports and need to intercept buffers (for the sake of decryption, for example). </dd></dl>

</div>
</div>
<a id="a5e5c98beada365d804771830144acbba" name="a5e5c98beada365d804771830144acbba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e5c98beada365d804771830144acbba">&#9670;&#160;</a></span>ah_tcp_in_detach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_in_detach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detaches input buffer <em>in</em> from its owner. </p>
<p >This function first allocates a new input buffer, disassociates <em>in</em> from its current owner (most typically an <a class="el" href="structah__tcp__conn.html" title="TCP connection handle.">ah_tcp_conn</a> instance), and then associates the newly allocated input buffer with that owner.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>Pointer to input buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>in</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - No enough heap memory available (<a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a> returned <code>NULL</code>). </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - <a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> is too small for it to be possible to store both an <a class="el" href="structah__tcp__in.html" title="TCP input stream.">ah_tcp_in</a> instance <em>and</em> have room for input data in a single page provided by the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>). </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>in</em> is currently not owned and cannot be detached. </li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>As the previous owner of <em>in</em> is no longer responsible for it or its memory, you must manually free it using <a class="el" href="tcp_8h.html#a514a5a148b21f5a9a72ac648f22a5f9b" title="Frees heap memory associated with in.">ah_tcp_in_free()</a> once you have no more use of it. </dd></dl>

</div>
</div>
<a id="a514a5a148b21f5a9a72ac648f22a5f9b" name="a514a5a148b21f5a9a72ac648f22a5f9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a514a5a148b21f5a9a72ac648f22a5f9b">&#9670;&#160;</a></span>ah_tcp_in_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void ah_tcp_in_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees heap memory associated with <em>in</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>Pointer to input buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Only free <a class="el" href="structah__tcp__in.html" title="TCP input stream.">ah_tcp_in</a> instances you own. Unless you explicitly call <a class="el" href="tcp_8h.html#ac94f6cb0a0d0a89772033fcc40e0c57f" title="Allocates new input buffer, storing a pointer to it in owner_ptr.">ah_tcp_in_alloc_for()</a>, <a class="el" href="tcp_8h.html#a5e5c98beada365d804771830144acbba" title="Detaches input buffer in from its owner.">ah_tcp_in_detach()</a> or in some other way is able to take ownership of your own instance, you are not going to need to call this function.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function does nothing if <em>in</em> is <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="ab94fcd820e7b7fdadd89ed19062f2fe0" name="ab94fcd820e7b7fdadd89ed19062f2fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab94fcd820e7b7fdadd89ed19062f2fe0">&#9670;&#160;</a></span>ah_tcp_in_repackage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_in_repackage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Moves the readable bytes of <em>in</em> to the beginning of its internal buffer. </p>
<p >The internal buffer of <em>in</em> has a finite size. When data is written to that internal buffer, a write pointer advances. If enough data is written to it, the write pointer advances to the end of the buffer, making it impossible to store further data to it. When data is read from the buffer, an internal read pointer advances towards the write pointer. After a successful such read operation, the memory between the beginning of the buffer and the read pointer becomes inaccessible. This function moves the data between the read and write pointers of the internal buffer to the beginning of that buffer. This eliminates the inaccessible region and makes it possible to write more data to the end of the buffer.</p>
<p >TCP is a streaming transmission protocol. Whatever data is sent may arrive split up into multiple segments at its intended receiver. Multiple such segments may have to be awaited before a certain data object can be interpreted correctly, and the last segment may contain the beginning of another data object. In such a scenario, this function makes it possible to move the received part of second data object to the beginning of the internal buffer, preventing it from overflowing for data objects that are smaller than the full size of that buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>Pointer to input buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>in</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - <em>in</em> is full. Nothing can be moved. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1cc3d83de1a116cac491032a3f16e51b" name="a1cc3d83de1a116cac491032a3f16e51b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cc3d83de1a116cac491032a3f16e51b">&#9670;&#160;</a></span>ah_tcp_in_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void ah_tcp_in_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets <em>in</em>, making all of its payload memory writable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in</td><td>Pointer to input buffer to reset.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function does nothing if <em>in</em> is <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="a8642838111a91ff3f3770c35784e159d" name="a8642838111a91ff3f3770c35784e159d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8642838111a91ff3f3770c35784e159d">&#9670;&#160;</a></span>ah_tcp_listener_cbs_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_listener_cbs_is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__listener__cbs.html">ah_tcp_listener_cbs_t</a> *&#160;</td>
          <td class="paramname"><em>cbs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>cbs</em> is valid for handling TCP listener events. </p>
<p >Such a valid callback set has all of its function pointers set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbs</td><td>Pointer to TCP listener callback set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>cbs</em> is <em>valid</em>. <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="ae3930574e77123edd7402851f1613af2" name="ae3930574e77123edd7402851f1613af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3930574e77123edd7402851f1613af2">&#9670;&#160;</a></span>ah_tcp_listener_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules closing of <em>ln</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the closing could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__tcp__listener__cbs.html#a2d2f589f4652739464c5cb61c71cecc1" title="ln has been closed.">ah_tcp_listener_cbs::on_close</a> callback of <em>ln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>trans</em> <code>vtab</code> is <code>NULL</code> or the <em>trans</em> <code>vtab-&gt;listener_close</code> field is <code>NULL</code>. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause the following error code to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is already in a closing or closed state. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Any already accepted connections that are still open are unaffected by the listener being closed.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully opened listener. </dd></dl>

</div>
</div>
<a id="adb39dee87f4d52985f787ef5058bd482" name="adb39dee87f4d52985f787ef5058bd482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb39dee87f4d52985f787ef5058bd482">&#9670;&#160;</a></span>ah_tcp_listener_get_family()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> int ah_tcp_listener_get_family </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks the socket family of <em>ln</em>. </p>
<p >For most TCP transports you may expect this socket family to be the same as was specified in the call to <a class="el" href="tcp_8h.html#ae1199a33fcf710aa960abe2ee4455339" title="Schedules opening of ln, which must be initialized, and its binding to the local network interface re...">ah_tcp_listener_open()</a> through which <em>ln</em> was first opened.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Socket family identifier or <code>-1</code> if <em>ln</em> is <code>NULL</code> or some other error occurred. If the <em>default transport</em> is used, the following identifiers may be produced: <ul>
<li>
<a class="el" href="sock_8h.html#addbceb63fc0c8a95b1c099d78fc2d43f">AH_SOCKFAMILY_IPV4</a> - IPv4 family identifier. </li>
<li>
<a class="el" href="sock_8h.html#ad30f453f30bfb73cf96e7fad8a136a5e">AH_SOCKFAMILY_IPV6</a> - IPv6 family identifier. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3fcfe0d8cea97601b9727354a3cad525" name="a3fcfe0d8cea97601b9727354a3cad525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fcfe0d8cea97601b9727354a3cad525">&#9670;&#160;</a></span>ah_tcp_listener_get_laddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_get_laddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores local address bound by <em>ln</em> into <em>laddr</em>. </p>
<p >If <em>ln</em> was opened with a zero port, this function <em>should</em> report what concrete port was assigned to <em>ln</em>. If the <em>default transport</em> is used and this call is not intercepted by an intermediary transport, this function <em>will</em> report the assigned port.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address to be set by this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_get_laddr</code> is <code>NULL</code>. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a5c9ff411093efabb788ac77b96aaf8e7" name="a5c9ff411093efabb788ac77b96aaf8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9ff411093efabb788ac77b96aaf8e7">&#9670;&#160;</a></span>ah_tcp_listener_get_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> * ah_tcp_listener_get_loop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets pointer to event loop of <em>ln</em>. </p>
<p >This event loop <em>should</em> be the same one as was provided when <em>ln</em> was first initialized via a call to <a class="el" href="tcp_8h.html#a7b7b79979c3ba3dcf75913682c1ba654" title="Initializes ln for subsequent use.">ah_tcp_listener_init()</a>. If the <em>default transport</em> is used and this function is not intercepted by an intermediary transport, this function <em>will</em> return the mentioned original event loop pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Loop pointer, or <code>NULL</code> if <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_get_loop</code> is <code>NULL</code>. Also returns <code>NULL</code> if the loop pointer itself is equal to <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="abf135edc360bd91c62994b9c14307209" name="abf135edc360bd91c62994b9c14307209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf135edc360bd91c62994b9c14307209">&#9670;&#160;</a></span>ah_tcp_listener_get_obs_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void * ah_tcp_listener_get_obs_ctx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the context pointer of the listener observer associated with <em>conn</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Context pointer, or <code>NULL</code> if <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_get_obs_ctx</code> is <code>NULL</code>. Also returns <code>NULL</code> if the context pointer itself is equal to <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="a7b7b79979c3ba3dcf75913682c1ba654" name="a7b7b79979c3ba3dcf75913682c1ba654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b7b79979c3ba3dcf75913682c1ba654">&#9670;&#160;</a></span>ah_tcp_listener_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener__obs.html">ah_tcp_listener_obs_t</a>&#160;</td>
          <td class="paramname"><em>obs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes <em>ln</em> for subsequent use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">loop</td><td>Pointer to event loop. </td></tr>
    <tr><td class="paramname">trans</td><td>Desired transport. </td></tr>
    <tr><td class="paramname">obs</td><td>Pointer to connection event observer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>trans</em> <code>vtab</code> is <code>NULL</code> or the <em>trans</em> <code>vtab-&gt;listener_init</code> field is <code>NULL</code>. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>loop</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>trans</em> <code>-&gt;vtab</code> is invalid, as reported by <a class="el" href="tcp_8h.html#a6b113620283c060df4fe657c20abebbf" title="Checks if every field of vtab is set, making it valid for use as part of a TCP transport.">ah_tcp_trans_vtab_is_valid()</a>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>obs</em> <code>-&gt;cbs</code> is invalid, as reported by <a class="el" href="tcp_8h.html#a8642838111a91ff3f3770c35784e159d" title="Checks if cbs is valid for handling TCP listener events.">ah_tcp_listener_cbs_is_valid()</a>. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Heap memory could not be allocated for storing incoming connections. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - <a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> is too small for it to be possible to store both metadata <em>and</em> have room for at least one incoming connection in a single page provided by the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>). </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully initialized <em>ln</em> must eventually be provided to <a class="el" href="tcp_8h.html#aacb5e702cb7eed79686ea4f7dbafc1ed" title="Terminates ln, freeing any resources it holds.">ah_tcp_listener_term()</a>. </dd></dl>

</div>
</div>
<a id="a4d4d6bcc81e82a487ed78b2bfa97b3c2" name="a4d4d6bcc81e82a487ed78b2bfa97b3c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d4d6bcc81e82a487ed78b2bfa97b3c2">&#9670;&#160;</a></span>ah_tcp_listener_is_closed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_listener_is_closed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>ln</em> is in any closing or closed state. </p>
<p >Also newly initialized and terminated listeners are considered closed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>ln</em> is currently closing or closed. <code>false</code> if <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_is_closed</code> is <code>NULL</code>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Calling this function on terminated listeners is inherently unsafe, unless they are known not have their memory invalidated when they are terminated. </dd></dl>

</div>
</div>
<a id="adf3e93adbcc809f855e9bbab9a794a32" name="adf3e93adbcc809f855e9bbab9a794a32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf3e93adbcc809f855e9bbab9a794a32">&#9670;&#160;</a></span>ah_tcp_listener_listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_listen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules for <em>ln</em>, which must be open, to start listening for incoming connections. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that listening could indeed be scheduled, its result will eventually be presented via the ah_tcp_conn_cbs::on_listen callback of <em>ln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">backlog</td><td>Capacity, in connections, of the queue in which incoming connections wait to get accepted. If <code>0</code>, a platform default will be chosen. If larger than some arbitrary platform maximum, it will be set to that maximum. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>trans</em> <code>vtab</code> is <code>NULL</code> or the <em>trans</em> <code>vtab-&gt;listener_listen</code> field is <code>NULL</code>. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>ln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> or <em>conn_cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <code>on_read</code>, <code>on_write</code> or <code>on_close</code> of <em>conn_cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is not open. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully opened listener. An appropriate place to call this function is often going to be in an <a class="el" href="structah__tcp__listener__cbs.html#a90a99bc6413796b196f95c207bca5cf4" title="ln has been opened, or the attempt failed.">ah_tcp_listener_cbs::on_open</a> callback after a check that opening was successful. </dd></dl>

</div>
</div>
<a id="ae1199a33fcf710aa960abe2ee4455339" name="ae1199a33fcf710aa960abe2ee4455339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1199a33fcf710aa960abe2ee4455339">&#9670;&#160;</a></span>ah_tcp_listener_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules opening of <em>ln</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the open attempt could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__tcp__listener__cbs.html#a90a99bc6413796b196f95c207bca5cf4" title="ln has been opened, or the attempt failed.">ah_tcp_listener_cbs::on_open</a> callback of <em>ln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address representing a local network interface through which the listener must later receive incoming connections. If opening is successful, the referenced address must remain valid for the remaining lifetime of <em>ln</em>. To bind to all or any local network interface, provide the wildcard address (see ah_sockaddr_ipv4_wildcard and ah_sockaddr_ipv6_wildcard). If you want the platform to chose port number automatically, specify port <code>0</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>trans</em> <code>vtab</code> is <code>NULL</code> or the <em>trans</em> <code>vtab-&gt;listener_open</code> field is <code>NULL</code>. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - <em>laddr</em> is not an IP-based address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>ln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> or <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is not closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully opened <em>ln</em> must eventually be provided to <a class="el" href="tcp_8h.html#ae3930574e77123edd7402851f1613af2" title="Schedules closing of ln.">ah_tcp_listener_close()</a> before it is provided to <a class="el" href="tcp_8h.html#aacb5e702cb7eed79686ea4f7dbafc1ed" title="Terminates ln, freeing any resources it holds.">ah_tcp_listener_term()</a>. </dd></dl>

</div>
</div>
<a id="a0c57ec8fdbc4a0eff00354eb9960091a" name="a0c57ec8fdbc4a0eff00354eb9960091a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c57ec8fdbc4a0eff00354eb9960091a">&#9670;&#160;</a></span>ah_tcp_listener_set_keepalive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_set_keepalive </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <em>keep-alive</em> option of <em>ln</em> to <em>is_enabled</em>. </p>
<p >This option enables or disables keep-alive messaging for connections accepted by <em>ln</em>. Generally, using such messaging means that <em>ln</em> automatically sends messages at sensible times to check if the connection is in a usable condition. The exact implications of this option depends on the platform.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Whether keep-alive is to be enabled or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_set_keepalive</code> is <code>NULL</code>. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ad4fa17e45c65fcf4f9e4472da2b3b8c7" name="ad4fa17e45c65fcf4f9e4472da2b3b8c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4fa17e45c65fcf4f9e4472da2b3b8c7">&#9670;&#160;</a></span>ah_tcp_listener_set_nodelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_set_nodelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <em>no-delay</em> option of <em>ln</em> to <em>is_enabled</em>. </p>
<p >This option being enabled means that use of Nagle's algorithm is disabled for accepted connections. The mentioned algorithm queues up messages for a short time before sending them over the network. The purpose of this is to reduce the number of TCP segments submitted over the used network. Its disadvantage is that it may increase messaging latency.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Whether keep-alive is to be enabled or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_set_nodelay</code> is <code>NULL</code>. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a5a4d19d03f6dff2a2dd5a218a9c3c048" name="a5a4d19d03f6dff2a2dd5a218a9c3c048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a4d19d03f6dff2a2dd5a218a9c3c048">&#9670;&#160;</a></span>ah_tcp_listener_set_reuseaddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_set_reuseaddr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_enabled</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the <em>reuse address</em> option of <em>ln</em> to <em>is_enabled</em>. </p>
<p >Address reuse generally means that a the specific combination of local interface address and port number bound by this listener can be reused right after it closes. Address reuse can lead to security implications as it may enable a malicious process on the same platform to hijack a closed connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
    <tr><td class="paramname">is_enabled</td><td>Whether keep-alive is to be enabled or not. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>ln</em> <code>-&gt;vtab</code> is <code>NULL</code> or <em>ln</em> <code>-&gt;vtab-&gt;listener_set_reuseaddr</code> is <code>NULL</code>. </li>
</ul>
The <em>default transport</em> may also cause any of the following error codes to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aacb5e702cb7eed79686ea4f7dbafc1ed" name="aacb5e702cb7eed79686ea4f7dbafc1ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb5e702cb7eed79686ea4f7dbafc1ed">&#9670;&#160;</a></span>ah_tcp_listener_term()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_tcp_listener_term </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td>
          <td class="paramname"><em>ln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates <em>ln</em>, freeing any resources it holds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ln</td><td>Pointer to listener. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>ln</em> is <code>NULL</code>, <em>trans</em> <code>vtab</code> is <code>NULL</code> or the <em>trans</em> <code>vtab-&gt;listener_term</code> field is <code>NULL</code>. </li>
<li>
Any additional code returned by the used TCP transport. </li>
</ul>
The <em>default transport</em> may also cause the following error code to be returned: <ul>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>ln</em> is not in a closed state. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Any already accepted connections that are still open are unaffected by the listener being terminated. It may, however, be the case that some resources <em>ln</em> shares with those connections are not freed until they are all closed.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully closed listener. </dd></dl>

</div>
</div>
<a id="a78d5daac853dc975676ea5303ebb2860" name="a78d5daac853dc975676ea5303ebb2860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d5daac853dc975676ea5303ebb2860">&#9670;&#160;</a></span>ah_tcp_out_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> * ah_tcp_out_alloc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dynamically allocates and partially initializes a TCP output buffer. </p>
<p >Every output buffer allocated with this function must eventually be provided to <a class="el" href="tcp_8h.html#ab42f551bcffe5827ad1ecf1b214c69d4" title="Frees output buffer previously allocated using ah_tcp_out_alloc().">ah_tcp_out_free()</a>.</p>
<p >Concretely, the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>) is used to allocate the returned buffer. All parts of the returned buffer are initialized, except for the actual payload memory.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to new output buffer, or <code>NULL</code> if the allocation failed.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If <a class="el" href="alloc_8h.html#acf3a4492f083f0f4868f515f16441070">AH_PSIZE</a> is configured to a too small value (see <a class="el" href="conf_8h.html" title="Library configuration.">conf.h</a>), this function always fails. </dd></dl>

</div>
</div>
<a id="ab42f551bcffe5827ad1ecf1b214c69d4" name="ab42f551bcffe5827ad1ecf1b214c69d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab42f551bcffe5827ad1ecf1b214c69d4">&#9670;&#160;</a></span>ah_tcp_out_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void ah_tcp_out_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *&#160;</td>
          <td class="paramname"><em>out</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees output buffer previously allocated using <a class="el" href="tcp_8h.html#a78d5daac853dc975676ea5303ebb2860" title="Dynamically allocates and partially initializes a TCP output buffer.">ah_tcp_out_alloc()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">out</td><td>Pointer to output buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If <em>out</em> is <code>NULL</code>, this function does nothing. </dd></dl>

</div>
</div>
<a id="a2e1036666246ca220df8fe04efedc991" name="a2e1036666246ca220df8fe04efedc991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1036666246ca220df8fe04efedc991">&#9670;&#160;</a></span>ah_tcp_trans_get_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a> ah_tcp_trans_get_default </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a copy of the root TCP transport. </p>
<p >The root TCP transport directly utilizes the network subsystem of the current platform. This transport may be used directly with <a class="el" href="tcp_8h.html#a955ebbd02d1289b8320f674c10df6ad0" title="Initializes conn for subsequent use.">ah_tcp_conn_init()</a> and <a class="el" href="tcp_8h.html#a7b7b79979c3ba3dcf75913682c1ba654" title="Initializes ln for subsequent use.">ah_tcp_listener_init()</a> to establish plain TCP connections, which is to say that they are not encrypted or analyzed in any way.</p>
<dl class="section return"><dt>Returns</dt><dd>Copy of default TCP transport. </dd></dl>

</div>
</div>
<a id="a6b113620283c060df4fe657c20abebbf" name="a6b113620283c060df4fe657c20abebbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b113620283c060df4fe657c20abebbf">&#9670;&#160;</a></span>ah_tcp_trans_vtab_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_tcp_trans_vtab_is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__tcp__trans__vtab.html">ah_tcp_trans_vtab_t</a> *&#160;</td>
          <td class="paramname"><em>vtab</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if every field of <em>vtab</em> is set, making it valid for use as part of a TCP transport. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vtab</td><td>Pointer to virtual function table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>vtab</em> is not <code>NULL</code> and is valid. <code>false</code> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
  <footer>Generated by <a href="https://doxygen.org">Doxygen</a> 1.9.5</footer>
</body>
</html>
