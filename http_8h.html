<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="Doxygen 1.9.5"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ah_http/include/ah/http.h File Reference - Eclipse Arrowhead™ Core C Libraries</title>
  <script src="jquery.js"></script>
  <script src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script>
      window.addEventListener("load", () => {
          let contents = document.querySelector("body > div.contents");
          if (!contents) {
            return;
          }
          document.querySelectorAll("#top ul > li.current > a > span").forEach((selectedMenuItem) => {
            contents.classList.add(selectedMenuItem.innerText.trim().toLowerCase().replace(/\s+/, "-"));
          });
        for (let i = contents.childNodes.length - 1; i >= 0; i -= 1) {
          let childNode = contents.childNodes.item(i);
          if ((childNode.nodeType === 3 && childNode.textContent.trim().length === 0)
                  || (childNode.nodeType === 1 && childNode.classList.contains("textblock") && childNode.textContent.trim().length === 0)) {
            childNode.remove();
          }
        }
      });
  </script>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top">
  <header>
    <img alt="Logo" src="arrowhead-logo-white.svg"/>
    <h1>Eclipse Arrowhead™ Core C Libraries <span class="version"></span></h1>
  </header>
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="files.html"><span>Headers</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_3583a647cf2eebbd3a049e8fa52f244e.html">ah_http</a></li><li class="navelem"><a class="el" href="dir_859d411e738c53b77ebe00580c150c56.html">include</a></li><li class="navelem"><a class="el" href="dir_ead88d34a1645f90205f09becd3a194c.html">ah</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle"><div class="title">http.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >HTTP/1 client and server. </p>
<p >Here, data structures and functions are provided for representing, setting up and communicating via HTTP/1 clients and servers. To learn more about HTTP/1, itself please refer to <a href="https://rfc-editor.org/rfc/rfc9110.html">RFC9110</a>. Below, we briefly describe how to use this C API.</p>
<h3>Clients</h3>
<p >HTTP clients are set up using <a class="el" href="http_8h.html#aba6230b627c5522ff6e9c8cf3e13feb7" title="Initializes cln for subsequent use.">ah_http_client_init()</a>, <a class="el" href="http_8h.html#a3407248cc10199c91877397d823f6c37" title="Schedules opening of cln, which must be initialized, and its binding to the local network interface r...">ah_http_client_open()</a> and <a class="el" href="http_8h.html#a2b95d0ccdc86388438d99fdfc65d45e2" title="Schedules connection of cln, which must be open, to raddr.">ah_http_client_connect()</a>, in that order. Successfully initialized clients are terminated with <a class="el" href="http_8h.html#a64bab29aa1d7a7a0b35dcac9ea9a00fb" title="Terminates cln, releasing any resources it may hold.">ah_http_client_term()</a> and successfully opened clients are closed with <a class="el" href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a" title="Schedules closing of cln.">ah_http_client_close()</a>. Every client receives data, and is notified of other events, via a callback set of type <a class="el" href="structah__http__client__cbs.html" title="HTTP client callback set.">ah_http_client_cbs</a>. To send a message, you must provide a certain client with a <em>head</em>, a number of <em>body parts</em> and indicate the end of the message. The head and body parts are added to the <em>send queue</em> of the client, which is processed and emptied asynchronously when possible. The message head, which consists of a <em>start line</em> and zero or more headers, is added by a call to <a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2" title="Schedules sending of HTTP message head.">ah_http_client_send_head()</a>. After a head has been successfully submitted, you must continue in one of the following ways:</p>
<ol>
<li>
If <em>no message body</em> is to be sent, call <a class="el" href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf" title="Ends current HTTP message of cln.">ah_http_client_send_end()</a> directly. </li>
<li>
If a <em>non-chunked body</em> is to be sent, which is recommended when the final size of the send body is <em>known</em> in advance, call <a class="el" href="http_8h.html#a038276fcd4deb032722bc2104c8fdb2b" title="Schedules sending of HTTP message body data.">ah_http_client_send_data()</a> repeatedly until all body parts have been added. Finally, call <a class="el" href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf" title="Ends current HTTP message of cln.">ah_http_client_send_end()</a> to end the message. </li>
<li>
If a <em>chunked body</em> is to be sent, which is recommended when the final size of the send body is <em>not known</em> in advance, call <a class="el" href="http_8h.html#a95ac1840f6f2b2ae9d8a0b32e1366d79" title="Schedules sending of HTTP message body data in the form of a chunk.">ah_http_client_send_chunk()</a> repeatedly until all body chunks have been added. Finally, call <a class="el" href="http_8h.html#aef012c485382dc1051919809f266021e" title="Schedules sending of last chunk and trailer of and ends the current message of cln.">ah_http_client_send_trailer()</a> to submit any last chunk extension and trailer headers, as well as to indicate the end of the current message. </li>
</ol>
<p >When sending and receiving <em>metadata</em>, such as start lines, headers and chunks, that metadata is gathered automatically into dynamically allocated buffers. Each client owns one such buffer it reuses for all data it receives. Another is allocated for the duration of each on-going message send procedure. If a certain metadata item, such as a header or chunk extension, exceeds the size of its receive buffer, or a send buffer is too small to contain <em>all</em> relevant metadata items, the message transmission is failed with error code <a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a>. Limiting sizes in this way helps reduce the complexity the client implementation and works as a form of protection from exploits that use large metadata items. Generally, the size of each of these buffers will be limited by the page allocator page size, <code>AH_PSIZE</code>, more of which you can read in the documentation for <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>.</p>
<h3>Servers</h3>
<p >HTTP servers are set up using <a class="el" href="http_8h.html#a481c2847576b4f3cbfaa6524af2f36a7" title="Initializes srv for subsequent use.">ah_http_server_init()</a>, <a class="el" href="http_8h.html#afef6c8c9a8201ce16aece2ea9d74a7e8" title="Schedules opening of srv, which must be initialized, and its binding to the local network interface r...">ah_http_server_open()</a> and <a class="el" href="http_8h.html#a99d76f255529dfb4a1604e97a7fbe90c" title="Schedules for srv, which must be open, to start listening for connecting clients.">ah_http_server_listen()</a>. Successfully initialized servers are terminated with <a class="el" href="http_8h.html#adb9f40bf74053ecfec1718e13f18bcf0" title="Terminates srv, freeing any resources it holds.">ah_http_server_term()</a> and successfully opened servers are closed with <a class="el" href="http_8h.html#ae9def4c4323d8884edd607006b650ae1" title="Schedules closing of srv.">ah_http_server_close()</a>. Servers receive incoming clients and are notified of other events via their callback sets, which are of type <a class="el" href="structah__http__server__cbs.html" title="HTTP server callback set.">ah_http_server_cbs</a>.</p>
<h3>Automatic Headers</h3>
<p >As described in the directory-level documentation for this library, only a small subset of all headers part of the HTTP standards are handled automatically. Those headers are outlined in the below table.</p>
<a class="anchor" id="http-headers"></a>
<table class="doxtable">
<caption>Automatically Handled HTTP Headers</caption>
<tr>
<th>Header </th><th>Automatic Behavior </th></tr>
<tr>
<td><code>Connection</code> </td><td>The options (1) <code>close</code> and (2) <code>keep-alive</code> automatically cause HTTP connections to either (1) be closed after the current request/response exchange or (2) remain open between exchanges. Which of the two behaviors represented by these options is the default varies between HTTP versions. In version 1.0 <code>close</code> is the default, while on all subsequent versions <code>keep-alive</code> is the default. </td></tr>
<tr>
<td><code>Content-Length</code> </td><td>When receiving incoming requests and responses, the <code>Content-Length</code> is used automatically to determine when and if a message body is expected, and when all of it has been received. Incoming messages that neither specify a <code>Content-Length</code> nor <code>Transfer-Encoding: chunked</code> are assumed to not have bodies at all. Note that no <code>Content-Length</code> header is added automatically to sent requests or responses. You must make sure to add it when relevant. </td></tr>
<tr>
<td><code>Host</code> </td><td>When sending requests, if this header is left unspecified and the used HTTP version is 1.1 or higher, the header is automatically populated with the IP address and port number of the targeted server. </td></tr>
<tr>
<td><code>Transfer-Encoding</code> </td><td>If <code>Transfer-Encoding: chunked</code> is specified in an incoming request or response, the individual chunks are decoded and presented automatically. Other transfer encoding options are ignored. This means that body compression and decompression is not handled automatically. </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a href="https://rfc-editor.org/rfc/rfc9110.html">https://rfc-editor.org/rfc/rfc9110.html</a> </dd>
<dd>
<a href="https://rfc-editor.org/rfc/rfc9112.html">https://rfc-editor.org/rfc/rfc9112.html</a> </dd></dl>
</div>
<p><a href="http_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__chunk.html">ah_http_chunk</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP chunk, including data and an arbitrary extension.  <a href="structah__http__chunk.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client.html">ah_http_client</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP client.  <a href="structah__http__client.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html">ah_http_client_cbs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP client callback set.  <a href="structah__http__client__cbs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__obs.html">ah_http_client_obs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP client observer.  <a href="structah__http__client__obs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__head.html">ah_http_head</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP start line and field lines.  <a href="structah__http__head.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__header.html">ah_http_header</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP header field, which is a name/value pair.  <a href="structah__http__header.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__server.html">ah_http_server</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP server.  <a href="structah__http__server.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__server__cbs.html">ah_http_server_cbs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP server callback set.  <a href="structah__http__server__cbs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__server__obs.html">ah_http_server_obs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP server observer.  <a href="structah__http__server__obs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__trailer.html">ah_http_trailer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP chunked message end, consisting of a last chunk extension and a trailer.  <a href="structah__http__trailer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__ver.html">ah_http_ver</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP version indicator.  <a href="structah__http__ver.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:acc6152c1aa650c9a8625a762d03acbca"><td class="memItemLeft" align="right" valign="top"><a id="acc6152c1aa650c9a8625a762d03acbca" name="acc6152c1aa650c9a8625a762d03acbca"></a>
typedef struct <a class="el" href="structah__http__chunk.html">ah_http_chunk</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_chunk_t</b></td></tr>
<tr class="separator:acc6152c1aa650c9a8625a762d03acbca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274e21c845eb157c60055b95afd6421a"><td class="memItemLeft" align="right" valign="top"><a id="a274e21c845eb157c60055b95afd6421a" name="a274e21c845eb157c60055b95afd6421a"></a>
typedef struct <a class="el" href="structah__http__client__cbs.html">ah_http_client_cbs</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_client_cbs_t</b></td></tr>
<tr class="separator:a274e21c845eb157c60055b95afd6421a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5fe2d607c221a40ee0ffc5657f3bb4c"><td class="memItemLeft" align="right" valign="top"><a id="ab5fe2d607c221a40ee0ffc5657f3bb4c" name="ab5fe2d607c221a40ee0ffc5657f3bb4c"></a>
typedef struct <a class="el" href="structah__http__client__obs.html">ah_http_client_obs</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_client_obs_t</b></td></tr>
<tr class="separator:ab5fe2d607c221a40ee0ffc5657f3bb4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9fa0a0f04701dd307804c9cb720b0fd"><td class="memItemLeft" align="right" valign="top"><a id="ac9fa0a0f04701dd307804c9cb720b0fd" name="ac9fa0a0f04701dd307804c9cb720b0fd"></a>
typedef struct <a class="el" href="structah__http__client.html">ah_http_client</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_client_t</b></td></tr>
<tr class="separator:ac9fa0a0f04701dd307804c9cb720b0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c925ab9062849b933fbe9473a2bfc1"><td class="memItemLeft" align="right" valign="top"><a id="ad7c925ab9062849b933fbe9473a2bfc1" name="ad7c925ab9062849b933fbe9473a2bfc1"></a>
typedef struct <a class="el" href="structah__http__head.html">ah_http_head</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_head_t</b></td></tr>
<tr class="separator:ad7c925ab9062849b933fbe9473a2bfc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0efb434bfbc45e177725a8da6e208a1"><td class="memItemLeft" align="right" valign="top"><a id="ad0efb434bfbc45e177725a8da6e208a1" name="ad0efb434bfbc45e177725a8da6e208a1"></a>
typedef struct <a class="el" href="structah__http__header.html">ah_http_header</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_header_t</b></td></tr>
<tr class="separator:ad0efb434bfbc45e177725a8da6e208a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a0c0eca7fe697c83c0f8383da30949"><td class="memItemLeft" align="right" valign="top"><a id="a86a0c0eca7fe697c83c0f8383da30949" name="a86a0c0eca7fe697c83c0f8383da30949"></a>
typedef struct <a class="el" href="structah__http__server__cbs.html">ah_http_server_cbs</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_server_cbs_t</b></td></tr>
<tr class="separator:a86a0c0eca7fe697c83c0f8383da30949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc32aa7c5897f752848ed9ddde73e279"><td class="memItemLeft" align="right" valign="top"><a id="abc32aa7c5897f752848ed9ddde73e279" name="abc32aa7c5897f752848ed9ddde73e279"></a>
typedef struct <a class="el" href="structah__http__server__obs.html">ah_http_server_obs</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_server_obs_t</b></td></tr>
<tr class="separator:abc32aa7c5897f752848ed9ddde73e279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab180b33e0760a002403afb04e7ceec7d"><td class="memItemLeft" align="right" valign="top"><a id="ab180b33e0760a002403afb04e7ceec7d" name="ab180b33e0760a002403afb04e7ceec7d"></a>
typedef struct <a class="el" href="structah__http__server.html">ah_http_server</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_server_t</b></td></tr>
<tr class="separator:ab180b33e0760a002403afb04e7ceec7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab50e664ab20bed89c085daa63976007a"><td class="memItemLeft" align="right" valign="top"><a id="ab50e664ab20bed89c085daa63976007a" name="ab50e664ab20bed89c085daa63976007a"></a>
typedef struct <a class="el" href="structah__http__trailer.html">ah_http_trailer</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_trailer_t</b></td></tr>
<tr class="separator:ab50e664ab20bed89c085daa63976007a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701c0bcbac543da1ea730b9f7f73ee9f"><td class="memItemLeft" align="right" valign="top"><a id="a701c0bcbac543da1ea730b9f7f73ee9f" name="a701c0bcbac543da1ea730b9f7f73ee9f"></a>
typedef struct <a class="el" href="structah__http__ver.html">ah_http_ver</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ah_http_ver_t</b></td></tr>
<tr class="separator:a701c0bcbac543da1ea730b9f7f73ee9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">HTTP Client</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__http__client.html" title="HTTP client.">ah_http_client</a> instances.</p>
<p >All such instances must be initialized using <a class="el" href="http_8h.html#aba6230b627c5522ff6e9c8cf3e13feb7" title="Initializes cln for subsequent use.">ah_http_client_init()</a> before they are provided to any other functions listed here. Any other requirements regarding the state of clients are described in the documentation of each respective function, sometimes only via the error codes it lists. </p>
</div></td></tr>
<tr class="memitem:a4a0cacd784a5c0c3dc2b0af93745d02a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a">ah_http_client_close</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a4a0cacd784a5c0c3dc2b0af93745d02a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules closing of <em>cln</em>.  <a href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a">More...</a><br /></td></tr>
<tr class="separator:a4a0cacd784a5c0c3dc2b0af93745d02a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b95d0ccdc86388438d99fdfc65d45e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a2b95d0ccdc86388438d99fdfc65d45e2">ah_http_client_connect</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *raddr)</td></tr>
<tr class="memdesc:a2b95d0ccdc86388438d99fdfc65d45e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules connection of <em>cln</em>, which must be open, to <em>raddr</em>.  <a href="http_8h.html#a2b95d0ccdc86388438d99fdfc65d45e2">More...</a><br /></td></tr>
<tr class="separator:a2b95d0ccdc86388438d99fdfc65d45e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0459cfe2bd9f389b7ce586a8a3dcea3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a0459cfe2bd9f389b7ce586a8a3dcea3e">ah_http_client_get_conn</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a0459cfe2bd9f389b7ce586a8a3dcea3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the TCP connection of <em>cln</em>.  <a href="http_8h.html#a0459cfe2bd9f389b7ce586a8a3dcea3e">More...</a><br /></td></tr>
<tr class="separator:a0459cfe2bd9f389b7ce586a8a3dcea3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b622e70c0e84c971414994077bbed95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a1b622e70c0e84c971414994077bbed95">ah_http_client_get_laddr</a> (const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:a1b622e70c0e84c971414994077bbed95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores local address bound by <em>cln</em> into <em>laddr</em>.  <a href="http_8h.html#a1b622e70c0e84c971414994077bbed95">More...</a><br /></td></tr>
<tr class="separator:a1b622e70c0e84c971414994077bbed95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecd3e6fb122fcd92d181b0f31f7e931"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a2ecd3e6fb122fcd92d181b0f31f7e931">ah_http_client_get_loop</a> (const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a2ecd3e6fb122fcd92d181b0f31f7e931"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets pointer to event loop of <em>cln</em>.  <a href="http_8h.html#a2ecd3e6fb122fcd92d181b0f31f7e931">More...</a><br /></td></tr>
<tr class="separator:a2ecd3e6fb122fcd92d181b0f31f7e931"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4114087cf499bd5ebc44a4b555c261"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a0a4114087cf499bd5ebc44a4b555c261">ah_http_client_get_obs_ctx</a> (const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a0a4114087cf499bd5ebc44a4b555c261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the context pointer of the client observer associated with <em>srv</em>.  <a href="http_8h.html#a0a4114087cf499bd5ebc44a4b555c261">More...</a><br /></td></tr>
<tr class="separator:a0a4114087cf499bd5ebc44a4b555c261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816bbf2d1973884cb3a8787e219eaf35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a816bbf2d1973884cb3a8787e219eaf35">ah_http_client_get_raddr</a> (const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *raddr)</td></tr>
<tr class="memdesc:a816bbf2d1973884cb3a8787e219eaf35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores remote address of <em>cln</em> into <em>raddr</em>.  <a href="http_8h.html#a816bbf2d1973884cb3a8787e219eaf35">More...</a><br /></td></tr>
<tr class="separator:a816bbf2d1973884cb3a8787e219eaf35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba6230b627c5522ff6e9c8cf3e13feb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#aba6230b627c5522ff6e9c8cf3e13feb7">ah_http_client_init</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__loop.html">ah_loop_t</a> *loop, <a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a> trans, <a class="el" href="structah__http__client__obs.html">ah_http_client_obs_t</a> obs)</td></tr>
<tr class="memdesc:aba6230b627c5522ff6e9c8cf3e13feb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <em>cln</em> for subsequent use.  <a href="http_8h.html#aba6230b627c5522ff6e9c8cf3e13feb7">More...</a><br /></td></tr>
<tr class="separator:aba6230b627c5522ff6e9c8cf3e13feb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3407248cc10199c91877397d823f6c37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a3407248cc10199c91877397d823f6c37">ah_http_client_open</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:a3407248cc10199c91877397d823f6c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules opening of <em>cln</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>.  <a href="http_8h.html#a3407248cc10199c91877397d823f6c37">More...</a><br /></td></tr>
<tr class="separator:a3407248cc10199c91877397d823f6c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95ac1840f6f2b2ae9d8a0b32e1366d79"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a95ac1840f6f2b2ae9d8a0b32e1366d79">ah_http_client_send_chunk</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__chunk.html">ah_http_chunk_t</a> *chunk)</td></tr>
<tr class="memdesc:a95ac1840f6f2b2ae9d8a0b32e1366d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules sending of HTTP message body data in the form of a <em>chunk</em>.  <a href="http_8h.html#a95ac1840f6f2b2ae9d8a0b32e1366d79">More...</a><br /></td></tr>
<tr class="separator:a95ac1840f6f2b2ae9d8a0b32e1366d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038276fcd4deb032722bc2104c8fdb2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a038276fcd4deb032722bc2104c8fdb2b">ah_http_client_send_data</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *out)</td></tr>
<tr class="memdesc:a038276fcd4deb032722bc2104c8fdb2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules sending of HTTP message body data.  <a href="http_8h.html#a038276fcd4deb032722bc2104c8fdb2b">More...</a><br /></td></tr>
<tr class="separator:a038276fcd4deb032722bc2104c8fdb2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684e4861788b51a68e3ed308aa20d6cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf">ah_http_client_send_end</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a684e4861788b51a68e3ed308aa20d6cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends current HTTP message of <em>cln</em>.  <a href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf">More...</a><br /></td></tr>
<tr class="separator:a684e4861788b51a68e3ed308aa20d6cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdfe56387101bf4b1bb954f002fa3ef2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2">ah_http_client_send_head</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__head.html">ah_http_head_t</a> *head)</td></tr>
<tr class="memdesc:afdfe56387101bf4b1bb954f002fa3ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules sending of HTTP message head.  <a href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2">More...</a><br /></td></tr>
<tr class="separator:afdfe56387101bf4b1bb954f002fa3ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef012c485382dc1051919809f266021e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#aef012c485382dc1051919809f266021e">ah_http_client_send_trailer</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__trailer.html">ah_http_trailer_t</a> *trailer)</td></tr>
<tr class="memdesc:aef012c485382dc1051919809f266021e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules sending of last chunk and trailer of and ends the current message of <em>cln</em>.  <a href="http_8h.html#aef012c485382dc1051919809f266021e">More...</a><br /></td></tr>
<tr class="separator:aef012c485382dc1051919809f266021e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64bab29aa1d7a7a0b35dcac9ea9a00fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a64bab29aa1d7a7a0b35dcac9ea9a00fb">ah_http_client_term</a> (<a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a64bab29aa1d7a7a0b35dcac9ea9a00fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates <em>cln</em>, releasing any resources it may hold.  <a href="http_8h.html#a64bab29aa1d7a7a0b35dcac9ea9a00fb">More...</a><br /></td></tr>
<tr class="separator:a64bab29aa1d7a7a0b35dcac9ea9a00fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HTTP Client Callback Sets</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__http__client__cbs.html" title="HTTP client callback set.">ah_http_client_cbs</a> instances. </p>
</div></td></tr>
<tr class="memitem:aa7e37041fb961caf21160ded7d0b0bc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#aa7e37041fb961caf21160ded7d0b0bc1">ah_http_client_cbs_is_valid</a> (const <a class="el" href="structah__http__client__cbs.html">ah_http_client_cbs_t</a> *cbs)</td></tr>
<tr class="memdesc:aa7e37041fb961caf21160ded7d0b0bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>cbs</em> is valid for handling clients initiated locally.  <a href="http_8h.html#aa7e37041fb961caf21160ded7d0b0bc1">More...</a><br /></td></tr>
<tr class="separator:aa7e37041fb961caf21160ded7d0b0bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HTTP Server</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__http__server.html" title="HTTP server.">ah_http_server</a> instances.</p>
<p >All such instances must be initialized using <a class="el" href="http_8h.html#a481c2847576b4f3cbfaa6524af2f36a7" title="Initializes srv for subsequent use.">ah_http_server_init()</a> before they are provided to any other functions listed here. Any other requirements regarding the state of servers are described in the documentation of each respective function, sometimes only via the error codes it lists. </p>
</div></td></tr>
<tr class="memitem:ae9def4c4323d8884edd607006b650ae1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#ae9def4c4323d8884edd607006b650ae1">ah_http_server_close</a> (<a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv)</td></tr>
<tr class="memdesc:ae9def4c4323d8884edd607006b650ae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules closing of <em>srv</em>.  <a href="http_8h.html#ae9def4c4323d8884edd607006b650ae1">More...</a><br /></td></tr>
<tr class="separator:ae9def4c4323d8884edd607006b650ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a361734cf37a2a850071de1038eae4b3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a361734cf37a2a850071de1038eae4b3c">ah_http_server_get_laddr</a> (const <a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv, <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:a361734cf37a2a850071de1038eae4b3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores local address bound by <em>srv</em> into <em>laddr</em>.  <a href="http_8h.html#a361734cf37a2a850071de1038eae4b3c">More...</a><br /></td></tr>
<tr class="separator:a361734cf37a2a850071de1038eae4b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1d897bd5505e739ffedabaa04e33d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#aed1d897bd5505e739ffedabaa04e33d6">ah_http_server_get_listener</a> (<a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv)</td></tr>
<tr class="memdesc:aed1d897bd5505e739ffedabaa04e33d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the TCP listener of <em>srv</em>.  <a href="http_8h.html#aed1d897bd5505e739ffedabaa04e33d6">More...</a><br /></td></tr>
<tr class="separator:aed1d897bd5505e739ffedabaa04e33d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d424e3ea190fb884b10fcbfb7a6b31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a05d424e3ea190fb884b10fcbfb7a6b31">ah_http_server_get_loop</a> (const <a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv)</td></tr>
<tr class="memdesc:a05d424e3ea190fb884b10fcbfb7a6b31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets pointer to event loop of <em>srv</em>.  <a href="http_8h.html#a05d424e3ea190fb884b10fcbfb7a6b31">More...</a><br /></td></tr>
<tr class="separator:a05d424e3ea190fb884b10fcbfb7a6b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973c0bcf2b3409253896d15ea6073153"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a973c0bcf2b3409253896d15ea6073153">ah_http_server_get_obs_ctx</a> (const <a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv)</td></tr>
<tr class="memdesc:a973c0bcf2b3409253896d15ea6073153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the context pointer of the server observer associated with <em>srv</em>.  <a href="http_8h.html#a973c0bcf2b3409253896d15ea6073153">More...</a><br /></td></tr>
<tr class="separator:a973c0bcf2b3409253896d15ea6073153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481c2847576b4f3cbfaa6524af2f36a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a481c2847576b4f3cbfaa6524af2f36a7">ah_http_server_init</a> (<a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv, <a class="el" href="structah__loop.html">ah_loop_t</a> *loop, <a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a> trans, <a class="el" href="structah__http__server__obs.html">ah_http_server_obs_t</a> obs)</td></tr>
<tr class="memdesc:a481c2847576b4f3cbfaa6524af2f36a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes <em>srv</em> for subsequent use.  <a href="http_8h.html#a481c2847576b4f3cbfaa6524af2f36a7">More...</a><br /></td></tr>
<tr class="separator:a481c2847576b4f3cbfaa6524af2f36a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d76f255529dfb4a1604e97a7fbe90c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a99d76f255529dfb4a1604e97a7fbe90c">ah_http_server_listen</a> (<a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv, unsigned backlog)</td></tr>
<tr class="memdesc:a99d76f255529dfb4a1604e97a7fbe90c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules for <em>srv</em>, which must be open, to start listening for connecting clients.  <a href="http_8h.html#a99d76f255529dfb4a1604e97a7fbe90c">More...</a><br /></td></tr>
<tr class="separator:a99d76f255529dfb4a1604e97a7fbe90c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef6c8c9a8201ce16aece2ea9d74a7e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#afef6c8c9a8201ce16aece2ea9d74a7e8">ah_http_server_open</a> (<a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv, const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *laddr)</td></tr>
<tr class="memdesc:afef6c8c9a8201ce16aece2ea9d74a7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules opening of <em>srv</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>.  <a href="http_8h.html#afef6c8c9a8201ce16aece2ea9d74a7e8">More...</a><br /></td></tr>
<tr class="separator:afef6c8c9a8201ce16aece2ea9d74a7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb9f40bf74053ecfec1718e13f18bcf0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#adb9f40bf74053ecfec1718e13f18bcf0">ah_http_server_term</a> (<a class="el" href="structah__http__server.html">ah_http_server_t</a> *srv)</td></tr>
<tr class="memdesc:adb9f40bf74053ecfec1718e13f18bcf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates <em>srv</em>, freeing any resources it holds.  <a href="http_8h.html#adb9f40bf74053ecfec1718e13f18bcf0">More...</a><br /></td></tr>
<tr class="separator:adb9f40bf74053ecfec1718e13f18bcf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HTTP Server Callback Sets</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p >Operations on <a class="el" href="structah__http__server__cbs.html" title="HTTP server callback set.">ah_http_server_cbs</a> instances. </p>
</div></td></tr>
<tr class="memitem:a6b24355cd2c20fcd65fc08f763ef1972"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a6b24355cd2c20fcd65fc08f763ef1972">ah_http_server_cbs_is_valid</a> (const <a class="el" href="structah__http__server__cbs.html">ah_http_server_cbs_t</a> *cbs)</td></tr>
<tr class="memdesc:a6b24355cd2c20fcd65fc08f763ef1972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>cbs</em> is valid for handling servers initiated locally.  <a href="http_8h.html#a6b24355cd2c20fcd65fc08f763ef1972">More...</a><br /></td></tr>
<tr class="separator:a6b24355cd2c20fcd65fc08f763ef1972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">HTTP Library Version Details</div></td></tr>
<tr class="memitem:ac6073a75e00d5de89413430b8a599dd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#ac6073a75e00d5de89413430b8a599dd1">ah_http_lib_version_major</a> (void)</td></tr>
<tr class="memdesc:ac6073a75e00d5de89413430b8a599dd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets major version of the HTTP library.  <a href="http_8h.html#ac6073a75e00d5de89413430b8a599dd1">More...</a><br /></td></tr>
<tr class="separator:ac6073a75e00d5de89413430b8a599dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee67121b0d96dfac6b98d685ec7dba6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#aee67121b0d96dfac6b98d685ec7dba6d">ah_http_lib_version_minor</a> (void)</td></tr>
<tr class="memdesc:aee67121b0d96dfac6b98d685ec7dba6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets minor version of the HTTP library.  <a href="http_8h.html#aee67121b0d96dfac6b98d685ec7dba6d">More...</a><br /></td></tr>
<tr class="separator:aee67121b0d96dfac6b98d685ec7dba6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6fe7c1d134fa5c5798c2e39b3ed169"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a6c6fe7c1d134fa5c5798c2e39b3ed169">ah_http_lib_version_patch</a> (void)</td></tr>
<tr class="memdesc:a6c6fe7c1d134fa5c5798c2e39b3ed169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets patch version of the HTTP library.  <a href="http_8h.html#a6c6fe7c1d134fa5c5798c2e39b3ed169">More...</a><br /></td></tr>
<tr class="separator:a6c6fe7c1d134fa5c5798c2e39b3ed169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc86068edd188defdfb0a224f1953e3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#acc86068edd188defdfb0a224f1953e3d">ah_http_lib_version_str</a> (void)</td></tr>
<tr class="memdesc:acc86068edd188defdfb0a224f1953e3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets human-readable representation of version of the HTTP library.  <a href="http_8h.html#acc86068edd188defdfb0a224f1953e3d">More...</a><br /></td></tr>
<tr class="separator:acc86068edd188defdfb0a224f1953e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa7e37041fb961caf21160ded7d0b0bc1" name="aa7e37041fb961caf21160ded7d0b0bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7e37041fb961caf21160ded7d0b0bc1">&#9670;&#160;</a></span>ah_http_client_cbs_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_http_client_cbs_is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__client__cbs.html">ah_http_client_cbs_t</a> *&#160;</td>
          <td class="paramname"><em>cbs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>cbs</em> is valid for handling clients initiated locally. </p>
<p >Such a valid callback set has all of its function pointers set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbs</td><td>Pointer to HTTP client callback set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>cbs</em> is <em>valid</em>. <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="a4a0cacd784a5c0c3dc2b0af93745d02a" name="a4a0cacd784a5c0c3dc2b0af93745d02a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a0cacd784a5c0c3dc2b0af93745d02a">&#9670;&#160;</a></span>ah_http_client_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules closing of <em>cln</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the closing could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__http__client__cbs.html#a89d3133a1c1130ae7023e1fabbcc9bb1" title="cln has been closed.">ah_http_client_cbs::on_close</a> callback of <em>cln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Close of <em>cln</em> successfully scheduled. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is already closed. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a2b95d0ccdc86388438d99fdfc65d45e2" name="a2b95d0ccdc86388438d99fdfc65d45e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b95d0ccdc86388438d99fdfc65d45e2">&#9670;&#160;</a></span>ah_http_client_connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>raddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules connection of <em>cln</em>, which must be open, to <em>raddr</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that connection could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__http__client__cbs.html#ab7d4ae298f4368e38183e97d5c855254" title="cln has been connected to a specified remote host, or the attempt to connect it has failed.">ah_http_client_cbs::on_connect</a> callback of <em>cln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">raddr</td><td>Pointer to socket address representing the remote host to which the cln connection is to be established. If connection is successful, the referenced address must remain valid until <em>cln</em> is closed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>cln</em> opening successfully scheduled. </li>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - <em>raddr</em> is not an IP-based address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>cln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>raddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not open. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully opened cln. An appropriate place to call this function is often going to be in an <a class="el" href="structah__http__client__cbs.html#a063349ed990a73f70950b6bab686a953" title="cln has been opened, or the attempt failed.">ah_http_client_cbs::on_open</a> callback after a check that opening was successful. </dd></dl>

</div>
</div>
<a id="a0459cfe2bd9f389b7ce586a8a3dcea3e" name="a0459cfe2bd9f389b7ce586a8a3dcea3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0459cfe2bd9f389b7ce586a8a3dcea3e">&#9670;&#160;</a></span>ah_http_client_get_conn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__conn.html">ah_tcp_conn_t</a> * ah_http_client_get_conn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the TCP connection of <em>cln</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to TCP connection of <em>cln</em>, or <code>NULL</code> if <em>cln</em> is <code>NULL</code>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><em>cln</em> notably shares <em>user data pointer</em> and <em>receive buffer</em> with the TCP connection returned by this function. If you change or update the user data or detach the receive buffer via either <em>cln</em> or the connection, both are affected. </dd></dl>

</div>
</div>
<a id="a1b622e70c0e84c971414994077bbed95" name="a1b622e70c0e84c971414994077bbed95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b622e70c0e84c971414994077bbed95">&#9670;&#160;</a></span>ah_http_client_get_laddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_get_laddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores local address bound by <em>cln</em> into <em>laddr</em>. </p>
<p >If <em>cln</em> was opened with a zero port, this function will report what concrete port was assigned to <em>cln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address to be set by this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will always report the same local address as the TCP connection of <em>cln</em> would have reported if <a class="el" href="tcp_8h.html#aed8ee7942f803821ad3dc5b5d8c43e07" title="Stores local address bound by conn into laddr.">ah_tcp_conn_get_laddr()</a> was called. You can get a pointer to that TCP connection by calling <a class="el" href="http_8h.html#a0459cfe2bd9f389b7ce586a8a3dcea3e" title="Gets the TCP connection of cln.">ah_http_client_get_conn()</a> with <em>cln</em> as argument. </dd></dl>

</div>
</div>
<a id="a2ecd3e6fb122fcd92d181b0f31f7e931" name="a2ecd3e6fb122fcd92d181b0f31f7e931"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ecd3e6fb122fcd92d181b0f31f7e931">&#9670;&#160;</a></span>ah_http_client_get_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> * ah_http_client_get_loop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets pointer to event loop of <em>cln</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to event loop, or <code>NULL</code> if <em>cln</em> is <code>NULL</code>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function gets the event loop pointer of the <a class="el" href="structah__tcp__conn.html" title="TCP connection handle.">ah_tcp_conn</a> owned by <em>cln</em>. You can get a pointer to that TCP connection by calling <a class="el" href="http_8h.html#a0459cfe2bd9f389b7ce586a8a3dcea3e" title="Gets the TCP connection of cln.">ah_http_client_get_conn()</a> with <em>cln</em> as argument. </dd></dl>

</div>
</div>
<a id="a0a4114087cf499bd5ebc44a4b555c261" name="a0a4114087cf499bd5ebc44a4b555c261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a4114087cf499bd5ebc44a4b555c261">&#9670;&#160;</a></span>ah_http_client_get_obs_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void * ah_http_client_get_obs_ctx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the context pointer of the client observer associated with <em>srv</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Context pointer, or <code>NULL</code> if <em>srv</em> is <code>NULL</code> or the transport of <em>srv</em> is missing a required function in its virtual function table. Also returns <code>NULL</code> if the context pointer itself is <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="a816bbf2d1973884cb3a8787e219eaf35" name="a816bbf2d1973884cb3a8787e219eaf35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816bbf2d1973884cb3a8787e219eaf35">&#9670;&#160;</a></span>ah_http_client_get_raddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_get_raddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>raddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores remote address of <em>cln</em> into <em>raddr</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">raddr</td><td>Pointer to socket address to be set by this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>raddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not connected to a remote host. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will always report the same local address as the TCP connection of <em>cln</em> would have reported if <a class="el" href="tcp_8h.html#ab9e216e580af9321b62cd3575b899fe8" title="Stores remote address of conn into raddr.">ah_tcp_conn_get_raddr()</a> was called. You can get a pointer to that TCP connection by calling <a class="el" href="http_8h.html#a0459cfe2bd9f389b7ce586a8a3dcea3e" title="Gets the TCP connection of cln.">ah_http_client_get_conn()</a> with <em>cln</em> as argument. </dd></dl>

</div>
</div>
<a id="aba6230b627c5522ff6e9c8cf3e13feb7" name="aba6230b627c5522ff6e9c8cf3e13feb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba6230b627c5522ff6e9c8cf3e13feb7">&#9670;&#160;</a></span>ah_http_client_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__http__client__obs.html">ah_http_client_obs_t</a>&#160;</td>
          <td class="paramname"><em>obs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes <em>cln</em> for subsequent use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">loop</td><td>Pointer to event loop. </td></tr>
    <tr><td class="paramname">trans</td><td>Desired transport. </td></tr>
    <tr><td class="paramname">obs</td><td>Pointer to cln event observer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>cln</em> successfully initialized. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>loop</em> or <em>cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>trans</em> <code>vtab</code> is invalid, as reported by <a class="el" href="tcp_8h.html#a6b113620283c060df4fe657c20abebbf" title="Checks if every field of vtab is set, making it valid for use as part of a TCP transport.">ah_tcp_trans_vtab_is_valid()</a>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <code>on_open</code>, <code>on_connect</code>, <code>on_send</code>, <code>on_recv_line</code>, <code>on_recv_header</code>, <code>on_recv_data</code>, <code>on_recv_end</code>, or <code>on_close</code> of <em>cbs</em> is <code>NULL</code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3407248cc10199c91877397d823f6c37" name="a3407248cc10199c91877397d823f6c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3407248cc10199c91877397d823f6c37">&#9670;&#160;</a></span>ah_http_client_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules opening of <em>cln</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the open attempt could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__http__client__cbs.html#a063349ed990a73f70950b6bab686a953" title="cln has been opened, or the attempt failed.">ah_http_client_cbs::on_open</a> callback of <em>cln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address representing a local network interface through which the cln connection must later be established. If opening is successful, the referenced address must remain valid for the entire lifetime of the created cln. To bind to all or any local network interface, provide the wildcard address (see ah_sockaddr_ipv4_wildcard and ah_sockaddr_ipv6_wildcard). If you want the platform to chose port number automatically, specify port <code>0</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>cln</em> opening successfully scheduled. </li>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - <em>laddr</em> is not <code>NULL</code> and is not an IP-based address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>cln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully opened <em>cln</em> must eventually be provided to <a class="el" href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a" title="Schedules closing of cln.">ah_http_client_close()</a>. </dd></dl>

</div>
</div>
<a id="a95ac1840f6f2b2ae9d8a0b32e1366d79" name="a95ac1840f6f2b2ae9d8a0b32e1366d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95ac1840f6f2b2ae9d8a0b32e1366d79">&#9670;&#160;</a></span>ah_http_client_send_chunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_send_chunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__http__chunk.html">ah_http_chunk_t</a> *&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules sending of HTTP message body data in the form of a <em>chunk</em>. </p>
<p >This function is used to continue a send procedure initiated for <em>cln</em> via a call to <a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2" title="Schedules sending of HTTP message head.">ah_http_client_send_head()</a>. It is meant to be used when no <code>Content-Length</code> header is specified in the head. Concretely, it schedules the sending of <em>chunk</em>, which is sent asynchronously as soon as the underlying TCP transport is able to. You may call this function with the same <em>cln</em> as many times as you want before ending the sending procedure by providing <em>cln</em> to <a class="el" href="http_8h.html#aef012c485382dc1051919809f266021e" title="Schedules sending of last chunk and trailer of and ends the current message of cln.">ah_http_client_send_trailer()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">chunk</td><td>Pointer to chunk. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Transmission of <em>out</em> enqueued successfully. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>cln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#a7cf5011c680a591df888f256f0881dbd">AH_ESYNTAX</a> - The <code>ext</code> field of <em>chunk</em> is not <code>NULL</code>, an empty NULL-terminated C string and it does not begin with a semicolon <code></code>;, which means that inserting <code>ext</code> into the chunk will make it syntactically invalid. <em>This error code is only returned when running in <code>DEBUG</code> mode.</em> </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>chunk</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - The used output buffer, which is always allocated via the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>) is too small for it to be possible to store the <code>size</code> and <code>ext</code> specified in <em>chunk</em>. </li>
<li>
<a class="el" href="err_8h.html#ae0e0879f9ed8201bc7d79d10fd2b3e78">AH_ERANGE</a> - The variable keeping track of the number of currently enqueued data transmissions would overflow if <em>chunk</em> was accepted. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not currently sending any HTTP message, <em>cln</em> is not open, or the write direction of the connection of <em>cln</em> has been shut down. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a038276fcd4deb032722bc2104c8fdb2b" name="a038276fcd4deb032722bc2104c8fdb2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038276fcd4deb032722bc2104c8fdb2b">&#9670;&#160;</a></span>ah_http_client_send_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_send_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__out.html">ah_tcp_out_t</a> *&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules sending of HTTP message body data. </p>
<p >This function is used to continue the send procedure, which must have been initiated for <em>cln</em> via a call to <a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2" title="Schedules sending of HTTP message head.">ah_http_client_send_head()</a>. It is meant to be used when a <code>Content-Length</code> header is specified in the head with a value larger than zero. The function schedules the transmission of some or all of the data indicated by that <code>Content-Length</code>. You must ensure that exactly <code>Content-Length</code> bytes of body data is sent, via one or more calls to this function, before <a class="el" href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf" title="Ends current HTTP message of cln.">ah_http_client_send_end()</a> is called with <em>cln</em> to end the message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">out</td><td>Pointer to TCP output buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Transmission of <em>out</em> enqueued successfully. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>cln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>out</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#ae0e0879f9ed8201bc7d79d10fd2b3e78">AH_ERANGE</a> - The variable keeping track of the number of currently enqueued data transmissions would overflow if <em>out</em> was accepted. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not currently sending any HTTP message, <em>cln</em> is not open, or the write direction of the connection of <em>cln</em> has been shut down. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a684e4861788b51a68e3ed308aa20d6cf" name="a684e4861788b51a68e3ed308aa20d6cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684e4861788b51a68e3ed308aa20d6cf">&#9670;&#160;</a></span>ah_http_client_send_end()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_send_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ends current HTTP message of <em>cln</em>. </p>
<p >Call this function after a successful call to either <a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2" title="Schedules sending of HTTP message head.">ah_http_client_send_head()</a> or <a class="el" href="http_8h.html#a038276fcd4deb032722bc2104c8fdb2b" title="Schedules sending of HTTP message body data.">ah_http_client_send_data()</a> to indicate that the current message is complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Transmission of <em>out</em> ended successfully. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not currently sending any HTTP message. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function returning with the error code <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, which indicates success, only means that all parts of the message have been enqueued. Whether or not their actual transmission is successful is reported later via <a class="el" href="structah__http__client__cbs.html#af46cd4ef226ad15bfd77c29035fd4265" title="cln finished sending an HTTP message or the attempt failed.">ah_http_client_cbs::on_send</a>. </dd></dl>

</div>
</div>
<a id="afdfe56387101bf4b1bb954f002fa3ef2" name="afdfe56387101bf4b1bb954f002fa3ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdfe56387101bf4b1bb954f002fa3ef2">&#9670;&#160;</a></span>ah_http_client_send_head()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_send_head </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__http__head.html">ah_http_head_t</a> *&#160;</td>
          <td class="paramname"><em>head</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules sending of HTTP message head. </p>
<p >Calling this function initiates a send procedure by adding <em>head</em> to the send queue of <em>cln</em>. You must finalize that procedure in one out of three ways, outlined in the below table. How depends on if an HTTP body is to be included in the message and, if so, the final size of that body known in advance.</p>
<a class="anchor" id="http-send-procedures"></a>
<table class="doxtable">
<caption>Possible Continuations of the Send Procedure</caption>
<tr>
<th>Prerequisite </th><th>Description </th></tr>
<tr>
<td>No body </td><td>Call <a class="el" href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf" title="Ends current HTTP message of cln.">ah_http_client_send_end()</a>. </td></tr>
<tr>
<td>Body size known </td><td>Call <a class="el" href="http_8h.html#a038276fcd4deb032722bc2104c8fdb2b" title="Schedules sending of HTTP message body data.">ah_http_client_send_data()</a> until there are no more body parts to send. Finally, call <a class="el" href="http_8h.html#a684e4861788b51a68e3ed308aa20d6cf" title="Ends current HTTP message of cln.">ah_http_client_send_end()</a>. </td></tr>
<tr>
<td>Body size unknown </td><td>Call <a class="el" href="http_8h.html#a95ac1840f6f2b2ae9d8a0b32e1366d79" title="Schedules sending of HTTP message body data in the form of a chunk.">ah_http_client_send_chunk()</a> until there are no more body parts to send. Finally, call <a class="el" href="http_8h.html#aef012c485382dc1051919809f266021e" title="Schedules sending of last chunk and trailer of and ends the current message of cln.">ah_http_client_send_trailer()</a>. </td></tr>
</table>
<p >The invocation of this function must be successful in order for it to be possible to follow any of the above procedures. Please refer to the documentation for the functions in the above table for further details.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">head</td><td>Pointer to head, specifying a start line and set of headers. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Transmission of <em>head</em> enqueued successfully. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>head</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#acd76fd87a340e2584e6971bba20b57e2">AH_EPROTONOSUPPORT</a> - The HTTP version specified in <code>head-&gt;version</code> is not supported. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="aef012c485382dc1051919809f266021e" name="aef012c485382dc1051919809f266021e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef012c485382dc1051919809f266021e">&#9670;&#160;</a></span>ah_http_client_send_trailer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_send_trailer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__http__trailer.html">ah_http_trailer_t</a> *&#160;</td>
          <td class="paramname"><em>trailer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules sending of last chunk and trailer of and ends the current message of <em>cln</em>. </p>
<p >Call this function after a successful call to either <a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2" title="Schedules sending of HTTP message head.">ah_http_client_send_head()</a> or <a class="el" href="http_8h.html#a95ac1840f6f2b2ae9d8a0b32e1366d79" title="Schedules sending of HTTP message body data in the form of a chunk.">ah_http_client_send_chunk()</a> to send the last chunk and trailer, as well as to indicate that the current message is complete.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">trailer</td><td>Pointer to trailer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Transmission of <em>trailer</em> enqueued and current message ended successfully. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>cln</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#a7cf5011c680a591df888f256f0881dbd">AH_ESYNTAX</a> - The <code>ext</code> field of <em>trailer</em> is not <code>NULL</code>, an empty NULL-terminated C string and it does not begin with a semicolon <code></code>;, which means that inserting <code>ext</code> into the last chunk will make it syntactically invalid. <em>This error code is only returned when running in <code>DEBUG</code> mode.</em> </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> or <em>trailer</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - The used output buffer, which is always allocated via the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>) is too small for it to be possible to store the <code>size</code> and <code>ext</code> specified in <em>trailer</em>. </li>
<li>
<a class="el" href="err_8h.html#ae0e0879f9ed8201bc7d79d10fd2b3e78">AH_ERANGE</a> - The variable keeping track of the number of currently enqueued data transmissions would overflow if <em>trailer</em> was accepted. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>cln</em> is not currently sending any HTTP message, <em>cln</em> is not open, or the write direction of the connection of <em>cln</em> has been shut down. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a64bab29aa1d7a7a0b35dcac9ea9a00fb" name="a64bab29aa1d7a7a0b35dcac9ea9a00fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64bab29aa1d7a7a0b35dcac9ea9a00fb">&#9670;&#160;</a></span>ah_http_client_term()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_client_term </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__client.html">ah_http_client_t</a> *&#160;</td>
          <td class="paramname"><em>cln</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates <em>cln</em>, releasing any resources it may hold. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cln</td><td>Pointer to client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Operation successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>cln</em> is <code>NULL</code> or the transport of <em>cln</em> is missing a required function in its virtual function table. </li>
<li>
Any additional code returned by the used TCP transport. See <a class="el" href="tcp_8h.html#a682e009b75039d7519c03a12b3003389" title="Terminates conn, releasing any resources it may hold.">ah_tcp_conn_term()</a> for a list of codes returned by the <em>default transport</em>. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully closed client. </dd></dl>

</div>
</div>
<a id="ac6073a75e00d5de89413430b8a599dd1" name="ac6073a75e00d5de89413430b8a599dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6073a75e00d5de89413430b8a599dd1">&#9670;&#160;</a></span>ah_http_lib_version_major()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> unsigned short ah_http_lib_version_major </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets major version of the HTTP library. </p>
<dl class="section return"><dt>Returns</dt><dd>Major version indicator. </dd></dl>

</div>
</div>
<a id="aee67121b0d96dfac6b98d685ec7dba6d" name="aee67121b0d96dfac6b98d685ec7dba6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee67121b0d96dfac6b98d685ec7dba6d">&#9670;&#160;</a></span>ah_http_lib_version_minor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> unsigned short ah_http_lib_version_minor </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets minor version of the HTTP library. </p>
<dl class="section return"><dt>Returns</dt><dd>Minor version indicator. </dd></dl>

</div>
</div>
<a id="a6c6fe7c1d134fa5c5798c2e39b3ed169" name="a6c6fe7c1d134fa5c5798c2e39b3ed169"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c6fe7c1d134fa5c5798c2e39b3ed169">&#9670;&#160;</a></span>ah_http_lib_version_patch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> unsigned short ah_http_lib_version_patch </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets patch version of the HTTP library. </p>
<dl class="section return"><dt>Returns</dt><dd>Patch version indicator. </dd></dl>

</div>
</div>
<a id="acc86068edd188defdfb0a224f1953e3d" name="acc86068edd188defdfb0a224f1953e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc86068edd188defdfb0a224f1953e3d">&#9670;&#160;</a></span>ah_http_lib_version_str()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> const char * ah_http_lib_version_str </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets human-readable representation of version of the HTTP library. </p>
<dl class="section return"><dt>Returns</dt><dd>Constant string representation of version. </dd></dl>

</div>
</div>
<a id="a6b24355cd2c20fcd65fc08f763ef1972" name="a6b24355cd2c20fcd65fc08f763ef1972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b24355cd2c20fcd65fc08f763ef1972">&#9670;&#160;</a></span>ah_http_server_cbs_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_http_server_cbs_is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__server__cbs.html">ah_http_server_cbs_t</a> *&#160;</td>
          <td class="paramname"><em>cbs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>cbs</em> is valid for handling servers initiated locally. </p>
<p >Such a valid callback set has all of its function pointers set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbs</td><td>Pointer to HTTP server callback set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> only if <em>cbs</em> is <em>valid</em>. <code>false</code> otherwise. </dd></dl>

</div>
</div>
<a id="ae9def4c4323d8884edd607006b650ae1" name="ae9def4c4323d8884edd607006b650ae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9def4c4323d8884edd607006b650ae1">&#9670;&#160;</a></span>ah_http_server_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_server_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules closing of <em>srv</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the closing could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__http__server__cbs.html#adc089639e520f1328561076b493adac4" title="srv has been closed.">ah_http_server_cbs::on_close</a> callback of <em>srv</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Close of <em>srv</em> successfully scheduled. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>srv</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>srv</em> is already closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Any already accepted clients that are still open are unaffected by the server being closed. </dd></dl>

</div>
</div>
<a id="a361734cf37a2a850071de1038eae4b3c" name="a361734cf37a2a850071de1038eae4b3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a361734cf37a2a850071de1038eae4b3c">&#9670;&#160;</a></span>ah_http_server_get_laddr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_server_get_laddr </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores local address bound by <em>srv</em> into <em>laddr</em>. </p>
<p >If <em>srv</em> was opened with a zero port, this function will report what concrete port was assigned to <em>srv</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address to be set by this operation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - The operation was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>srv</em> or <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>srv</em> is closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will always report the same local address as the TCP listener of <em>srv</em> would have reported if <a class="el" href="tcp_8h.html#a3fcfe0d8cea97601b9727354a3cad525" title="Stores local address bound by ln into laddr.">ah_tcp_listener_get_laddr()</a> was called. You can get a pointer to that TCP listener by calling <a class="el" href="http_8h.html#aed1d897bd5505e739ffedabaa04e33d6" title="Gets the TCP listener of srv.">ah_http_server_get_listener()</a> with <em>srv</em> as argument. </dd></dl>

</div>
</div>
<a id="aed1d897bd5505e739ffedabaa04e33d6" name="aed1d897bd5505e739ffedabaa04e33d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1d897bd5505e739ffedabaa04e33d6">&#9670;&#160;</a></span>ah_http_server_get_listener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__tcp__listener.html">ah_tcp_listener_t</a> * ah_http_server_get_listener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the TCP listener of <em>srv</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to TCP listener of <em>srv</em>, or <code>NULL</code> if <em>srv</em> is <code>NULL</code>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><em>srv</em> notably shares <em>user data pointer</em> with the TCP listener returned by this function. If you change or update the user data via either <em>srv</em> or the listener, both are affected. </dd></dl>

</div>
</div>
<a id="a05d424e3ea190fb884b10fcbfb7a6b31" name="a05d424e3ea190fb884b10fcbfb7a6b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d424e3ea190fb884b10fcbfb7a6b31">&#9670;&#160;</a></span>ah_http_server_get_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__loop.html">ah_loop_t</a> * ah_http_server_get_loop </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets pointer to event loop of <em>srv</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to event loop, or <code>NULL</code> if <em>srv</em> is <code>NULL</code>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function gets the event loop pointer of the <a class="el" href="structah__tcp__listener.html" title="TCP listener handle.">ah_tcp_listener</a> owned by <em>srv</em>. You can get a pointer to that TCP listener by calling <a class="el" href="http_8h.html#aed1d897bd5505e739ffedabaa04e33d6" title="Gets the TCP listener of srv.">ah_http_server_get_listener()</a> with <em>srv</em> as argument. </dd></dl>

</div>
</div>
<a id="a973c0bcf2b3409253896d15ea6073153" name="a973c0bcf2b3409253896d15ea6073153"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973c0bcf2b3409253896d15ea6073153">&#9670;&#160;</a></span>ah_http_server_get_obs_ctx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> void * ah_http_server_get_obs_ctx </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the context pointer of the server observer associated with <em>srv</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Context pointer, or <code>NULL</code> if <em>srv</em> is <code>NULL</code> or the transport of <em>srv</em> is missing a required function in its virtual function table. Also returns <code>NULL</code> if the context pointer itself is <code>NULL</code>. </dd></dl>

</div>
</div>
<a id="a481c2847576b4f3cbfaa6524af2f36a7" name="a481c2847576b4f3cbfaa6524af2f36a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481c2847576b4f3cbfaa6524af2f36a7">&#9670;&#160;</a></span>ah_http_server_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_server_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__loop.html">ah_loop_t</a> *&#160;</td>
          <td class="paramname"><em>loop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__tcp__trans.html">ah_tcp_trans_t</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structah__http__server__obs.html">ah_http_server_obs_t</a>&#160;</td>
          <td class="paramname"><em>obs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes <em>srv</em> for subsequent use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
    <tr><td class="paramname">loop</td><td>Pointer to event loop. </td></tr>
    <tr><td class="paramname">trans</td><td>Desired transport. </td></tr>
    <tr><td class="paramname">obs</td><td>Pointer to server event observer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>srv</em> successfully initialized. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>srv</em> or <em>loop</em> or <em>cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>trans</em> <code>vtab</code> is invalid, as reported by <a class="el" href="tcp_8h.html#a6b113620283c060df4fe657c20abebbf" title="Checks if every field of vtab is set, making it valid for use as part of a TCP transport.">ah_tcp_trans_vtab_is_valid()</a>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <code>on_open</code>, <code>on_listen</code>, <code>on_accept</code> or <code>on_close</code> of <em>cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Heap memory could not be allocated for storing incoming connections. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - <code>AH_PSIZE</code> is too small for it to be possible to store both / * metadata <em>and</em> have room for at least one incoming connection in a single page provided by the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>). </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully initialized <em>srv</em> must eventually be provided to <a class="el" href="http_8h.html#adb9f40bf74053ecfec1718e13f18bcf0" title="Terminates srv, freeing any resources it holds.">ah_http_server_term()</a>. </dd></dl>

</div>
</div>
<a id="a99d76f255529dfb4a1604e97a7fbe90c" name="a99d76f255529dfb4a1604e97a7fbe90c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d76f255529dfb4a1604e97a7fbe90c">&#9670;&#160;</a></span>ah_http_server_listen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_server_listen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>backlog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules for <em>srv</em>, which must be open, to start listening for connecting clients. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that listening could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__http__server__cbs.html#aedbc4b93c46551e8c3b7a8afaea6ca56" title="srv has started to listen for connecting clients, or the attempt failed.">ah_http_server_cbs::on_listen</a> callback of <em>srv</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
    <tr><td class="paramname">backlog</td><td>Capacity, in connections, of the queue in which incoming clients wait to get accepted. If <code>0</code>, a platform default will be chosen. If larger than some arbitrary platform maximum, it will be set to that maximum. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>srv</em> listening successfully scheduled. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>srv</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>srv</em> or <em>conn_cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <code>on_send</code>, <code>on_recv_line</code>, <code>on_recv_header</code>, <code>on_recv_data</code>, <code>on_recv_end</code>, or <code>on_close</code> of <em>cbs</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>srv</em> is not open. </li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>This function must be called with a successfully opened server. An appropriate place to call this function is often going to be in an <a class="el" href="structah__http__server__cbs.html#a85a55797ca0d19cc5e60b6a585559949" title="srv has been opened, or the attempt failed.">ah_http_server_cbs::on_open</a> callback after a check that opening was successful. </dd></dl>

</div>
</div>
<a id="afef6c8c9a8201ce16aece2ea9d74a7e8" name="afef6c8c9a8201ce16aece2ea9d74a7e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afef6c8c9a8201ce16aece2ea9d74a7e8">&#9670;&#160;</a></span>ah_http_server_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_server_open </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionah__sockaddr.html">ah_sockaddr_t</a> *&#160;</td>
          <td class="paramname"><em>laddr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules opening of <em>srv</em>, which must be initialized, and its binding to the local network interface represented by <em>laddr</em>. </p>
<p >If the return value of this function is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, meaning that the open attempt could indeed be scheduled, its result will eventually be presented via the <a class="el" href="structah__http__server__cbs.html#a85a55797ca0d19cc5e60b6a585559949" title="srv has been opened, or the attempt failed.">ah_http_server_cbs::on_open</a> callback of <em>srv</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
    <tr><td class="paramname">laddr</td><td>Pointer to socket address representing a local network interface through which the listener must later receive incoming connections. If opening is successful, the referenced address must remain valid for the remaining lifetime of <em>srv</em>. To bind to all or any local network interface, provide the wildcard address (see ah_sockaddr_ipv4_wildcard and ah_sockaddr_ipv6_wildcard). If you want the platform to chose port number automatically, specify port <code>0</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>srv</em> opening successfully scheduled. </li>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - <em>laddr</em> is not an IP-based address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>srv</em> is shutting down. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>srv</em> or <em>laddr</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>srv</em> is not closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Every successfully opened <em>srv</em> must eventually be provided to <a class="el" href="http_8h.html#ae9def4c4323d8884edd607006b650ae1" title="Schedules closing of srv.">ah_http_server_close()</a> before it is provided to <a class="el" href="http_8h.html#adb9f40bf74053ecfec1718e13f18bcf0" title="Terminates srv, freeing any resources it holds.">ah_http_server_term()</a>. </dd></dl>

</div>
</div>
<a id="adb9f40bf74053ecfec1718e13f18bcf0" name="adb9f40bf74053ecfec1718e13f18bcf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb9f40bf74053ecfec1718e13f18bcf0">&#9670;&#160;</a></span>ah_http_server_term()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_http_server_term </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__http__server.html">ah_http_server_t</a> *&#160;</td>
          <td class="paramname"><em>srv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates <em>srv</em>, freeing any resources it holds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">srv</td><td>Pointer to server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - <em>srv</em> successfully terminated. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>srv</em> is <code>NULL</code>. </li>
<li>
<a class="el" href="err_8h.html#aa95f2476779b43aa0fb7b8dce7092e70">AH_ESTATE</a> - <em>srv</em> is not currently closed. </li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Any already accepted clients that are still open are unaffected by the server being terminated. It may, however, be the case at some resources <em>srv</em> shares with those clients are not freed until they are all closed. </dd></dl>

</div>
</div>
</div><!-- contents -->
  <footer>Generated by <a href="https://doxygen.org">Doxygen</a> 1.9.5</footer>
</body>
</html>
