<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="Doxygen 1.9.5"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ah_base/include/ah/buf.h File Reference - Eclipse Arrowhead™ Core C Libraries</title>
  <script src="jquery.js"></script>
  <script src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script>
      window.addEventListener("load", () => {
          let contents = document.querySelector("body > div.contents");
          if (!contents) {
            return;
          }
          document.querySelectorAll("#top ul > li.current > a > span").forEach((selectedMenuItem) => {
            contents.classList.add(selectedMenuItem.innerText.trim().toLowerCase().replace(/\s+/, "-"));
          });
        for (let i = contents.childNodes.length - 1; i >= 0; i -= 1) {
          let childNode = contents.childNodes.item(i);
          if ((childNode.nodeType === 3 && childNode.textContent.trim().length === 0)
                  || (childNode.nodeType === 1 && childNode.classList.contains("textblock") && childNode.textContent.trim().length === 0)) {
            childNode.remove();
          }
        }
      });
  </script>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top">
  <header>
    <img alt="Logo" src="arrowhead-logo-white.svg"/>
    <h1>Eclipse Arrowhead™ Core C Libraries <span class="version"></span></h1>
  </header>
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="files.html"><span>Headers</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e181be20417508ccbaf60a7ad88b28e5.html">ah_base</a></li><li class="navelem"><a class="el" href="dir_4e09807cd623eda32c4b1ef4b2b976fd.html">include</a></li><li class="navelem"><a class="el" href="dir_d9de5a19e148cb2028fab693738defa4.html">ah</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">buf.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Platform buffer representation. </p>
<p >This file provides a simple data structure, <a class="el" href="structah__buf.html" title="Sized reference to a contiguous chunk of memory.">ah_buf</a>, that is used to refer to contiguous chunks of memory. The data structure may be used internally by various platform APIs, for which reason its layout and fields may vary across platforms. </p>
</div>
<p><a href="buf_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__buf.html">ah_buf</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sized reference to a contiguous chunk of memory.  <a href="structah__buf.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad59e8ddf44db3c0801e595baf03875d3"><td class="memItemLeft" align="right" valign="top"><a id="ad59e8ddf44db3c0801e595baf03875d3" name="ad59e8ddf44db3c0801e595baf03875d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AH_BUF_SIZE_MAX</b>&#160;&#160;&#160;AH_I_BUF_SIZE_MAX</td></tr>
<tr class="memdesc:ad59e8ddf44db3c0801e595baf03875d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Largest size, in bytes, that can be represented by an <a class="el" href="structah__buf.html" title="Sized reference to a contiguous chunk of memory.">ah_buf</a> instance. <br /></td></tr>
<tr class="separator:ad59e8ddf44db3c0801e595baf03875d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adb3218f1d3b002e2a656f833d90c6ffa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__buf.html">ah_buf_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#adb3218f1d3b002e2a656f833d90c6ffa">ah_buf_from</a> (uint8_t *base, uint32_t size)</td></tr>
<tr class="memdesc:adb3218f1d3b002e2a656f833d90c6ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates new <a class="el" href="structah__buf.html" title="Sized reference to a contiguous chunk of memory.">ah_buf</a> from given <em>base</em> pointer and 32-bit <em>size</em>.  <a href="buf_8h.html#adb3218f1d3b002e2a656f833d90c6ffa">More...</a><br /></td></tr>
<tr class="separator:adb3218f1d3b002e2a656f833d90c6ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8358b3a015748dc06573002a8dff4e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#ab8358b3a015748dc06573002a8dff4e0">ah_buf_init</a> (<a class="el" href="structah__buf.html">ah_buf_t</a> *buf, uint8_t *base, size_t size)</td></tr>
<tr class="memdesc:ab8358b3a015748dc06573002a8dff4e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safely initializes <em>buf</em> with <em>base</em> pointer and <em>size</em>.  <a href="buf_8h.html#ab8358b3a015748dc06573002a8dff4e0">More...</a><br /></td></tr>
<tr class="separator:ab8358b3a015748dc06573002a8dff4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0437c57aba3929cd44b5d307833088"><td class="memItemLeft" align="right" valign="top"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buf_8h.html#a7f0437c57aba3929cd44b5d307833088">ah_buf_is_empty</a> (const <a class="el" href="structah__buf.html">ah_buf_t</a> *buf)</td></tr>
<tr class="memdesc:a7f0437c57aba3929cd44b5d307833088"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if <em>buf</em> has a <code>NULL</code> <code>base</code> or a <code>size</code> being <code>0</code>.  <a href="buf_8h.html#a7f0437c57aba3929cd44b5d307833088">More...</a><br /></td></tr>
<tr class="separator:a7f0437c57aba3929cd44b5d307833088"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="adb3218f1d3b002e2a656f833d90c6ffa" name="adb3218f1d3b002e2a656f833d90c6ffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb3218f1d3b002e2a656f833d90c6ffa">&#9670;&#160;</a></span>ah_buf_from()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="structah__buf.html">ah_buf_t</a> ah_buf_from </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates new <a class="el" href="structah__buf.html" title="Sized reference to a contiguous chunk of memory.">ah_buf</a> from given <em>base</em> pointer and 32-bit <em>size</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Pointer to chunk of memory. </td></tr>
    <tr><td class="paramname">size</td><td>Size of chunk of memory referred to by <em>base</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Created buffer.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>In contrast to <a class="el" href="buf_8h.html#ab8358b3a015748dc06573002a8dff4e0" title="Safely initializes buf with base pointer and size.">ah_buf_init()</a>, this function never fails. This is made possible by <em>size</em> always being a 32-bit type, which is small enough to be representable by every <a class="el" href="structah__buf.html" title="Sized reference to a contiguous chunk of memory.">ah_buf</a>. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ah_json_2examples_2interpret_object_8c-example.html#a1">ah_json/examples/interpret_object.c</a>.</dd>
</dl>

</div>
</div>
<a id="ab8358b3a015748dc06573002a8dff4e0" name="ab8358b3a015748dc06573002a8dff4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8358b3a015748dc06573002a8dff4e0">&#9670;&#160;</a></span>ah_buf_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> ah_buf_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structah__buf.html">ah_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safely initializes <em>buf</em> with <em>base</em> pointer and <em>size</em>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to initialized buffer. </td></tr>
    <tr><td class="paramname">base</td><td>Pointer to chunk of memory. </td></tr>
    <tr><td class="paramname">size</td><td>Size of chunk of memory referred to by <em>base</em>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>One of the following error codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - If initialization was successful. </li>
<li>
<a class="el" href="err_8h.html#aadafdf4cd97c6a55df7d8b3eb5a9ab05">AH_EINVAL</a> - <em>buf</em> is <code>NULL</code> or <em>base</em> is <code>NULL</code> and <em>size</em> is positive. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> [Win32] - <em>size</em> is larger than <code>AH_BUF_SIZE_MAX</code>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a7f0437c57aba3929cd44b5d307833088" name="a7f0437c57aba3929cd44b5d307833088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f0437c57aba3929cd44b5d307833088">&#9670;&#160;</a></span>ah_buf_is_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="defs_8h.html#a4a00eaa653b79c27bff40d48d658f86f">ah_extern</a> bool ah_buf_is_empty </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structah__buf.html">ah_buf_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if <em>buf</em> has a <code>NULL</code> <code>base</code> or a <code>size</code> being <code>0</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to checked buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code>, only if <em>buf</em> is <code>NULL</code>, has a <code>NULL</code> <code>base</code> or <code>a</code> <code>size</code> being <code>0</code>. <code>false</code> otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
  <footer>Generated by <a href="https://doxygen.org">Doxygen</a> 1.9.5</footer>
</body>
</html>
