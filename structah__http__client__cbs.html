<!DOCTYPE html>
<html>
<head>
  <meta name="generator" content="Doxygen 1.9.5"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ah_http_client_cbs Struct Reference - Eclipse Arrowhead™ Core C Libraries</title>
  <script src="jquery.js"></script>
  <script src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <script>
      window.addEventListener("load", () => {
          let contents = document.querySelector("body > div.contents");
          if (!contents) {
            return;
          }
          document.querySelectorAll("#top ul > li.current > a > span").forEach((selectedMenuItem) => {
            contents.classList.add(selectedMenuItem.innerText.trim().toLowerCase().replace(/\s+/, "-"));
          });
        for (let i = contents.childNodes.length - 1; i >= 0; i -= 1) {
          let childNode = contents.childNodes.item(i);
          if ((childNode.nodeType === 3 && childNode.textContent.trim().length === 0)
                  || (childNode.nodeType === 1 && childNode.classList.contains("textblock") && childNode.textContent.trim().length === 0)) {
            childNode.remove();
          }
        }
      });
  </script>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <link href="DoxygenStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top">
  <header>
    <img alt="Logo" src="arrowhead-logo-white.svg"/>
    <h1>Eclipse Arrowhead™ Core C Libraries <span class="version"></span></h1>
  </header>
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="files.html"><span>Headers</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">ah_http_client_cbs Struct Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >HTTP client callback set. </p>
<p >A set of function pointers used to handle events on HTTP clients.</p>
<p >Every function takes a context pointer as its first argument. This context pointer comes from the <a class="el" href="structah__http__client__obs.html" title="HTTP client observer.">ah_http_client_obs</a> owning this callback set. More specifically, it is a copy of the value of the <a class="el" href="structah__http__client__obs.html#a55b87686c448598ed9e61ec19a1461cb" title="Arbitrary pointer provided every time an event callback is fired.">ah_http_client_obs::ctx</a> field of the owning <a class="el" href="structah__http__client__obs.html" title="HTTP client observer.">ah_http_client_obs</a> instance. The context pointer makes it possible for you to associate arbitrary state with individual HTTP clients. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a89d3133a1c1130ae7023e1fabbcc9bb1"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#a89d3133a1c1130ae7023e1fabbcc9bb1">on_close</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td></tr>
<tr class="memdesc:a89d3133a1c1130ae7023e1fabbcc9bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has been closed.  <a href="structah__http__client__cbs.html#a89d3133a1c1130ae7023e1fabbcc9bb1">More...</a><br /></td></tr>
<tr class="separator:a89d3133a1c1130ae7023e1fabbcc9bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d4ae298f4368e38183e97d5c855254"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#ab7d4ae298f4368e38183e97d5c855254">on_connect</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td></tr>
<tr class="memdesc:ab7d4ae298f4368e38183e97d5c855254"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has been connected to a specified remote host, or the attempt to connect it has failed.  <a href="structah__http__client__cbs.html#ab7d4ae298f4368e38183e97d5c855254">More...</a><br /></td></tr>
<tr class="separator:ab7d4ae298f4368e38183e97d5c855254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a063349ed990a73f70950b6bab686a953"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#a063349ed990a73f70950b6bab686a953">on_open</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td></tr>
<tr class="memdesc:a063349ed990a73f70950b6bab686a953"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has been opened, or the attempt failed.  <a href="structah__http__client__cbs.html#a063349ed990a73f70950b6bab686a953">More...</a><br /></td></tr>
<tr class="separator:a063349ed990a73f70950b6bab686a953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784e42b0275174b861e20d26443d0023"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#a784e42b0275174b861e20d26443d0023">on_recv_chunk_line</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, size_t size, const char *ext)</td></tr>
<tr class="memdesc:a784e42b0275174b861e20d26443d0023"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has received a chunk size and a chunk extension.  <a href="structah__http__client__cbs.html#a784e42b0275174b861e20d26443d0023">More...</a><br /></td></tr>
<tr class="separator:a784e42b0275174b861e20d26443d0023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac94c429ddda22abdf5fce0241784857"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#aac94c429ddda22abdf5fce0241784857">on_recv_data</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *in)</td></tr>
<tr class="memdesc:aac94c429ddda22abdf5fce0241784857"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has received data part of a message body.  <a href="structah__http__client__cbs.html#aac94c429ddda22abdf5fce0241784857">More...</a><br /></td></tr>
<tr class="separator:aac94c429ddda22abdf5fce0241784857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e8038e0c64c1ca61f39d7fde584ef1"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#a97e8038e0c64c1ca61f39d7fde584ef1">on_recv_end</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td></tr>
<tr class="memdesc:a97e8038e0c64c1ca61f39d7fde584ef1"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has finished receiving a message.  <a href="structah__http__client__cbs.html#a97e8038e0c64c1ca61f39d7fde584ef1">More...</a><br /></td></tr>
<tr class="separator:a97e8038e0c64c1ca61f39d7fde584ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af18a6b358884c4d770c1c8730c43243c"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#af18a6b358884c4d770c1c8730c43243c">on_recv_header</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__header.html">ah_http_header_t</a> header)</td></tr>
<tr class="memdesc:af18a6b358884c4d770c1c8730c43243c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has received a header field.  <a href="structah__http__client__cbs.html#af18a6b358884c4d770c1c8730c43243c">More...</a><br /></td></tr>
<tr class="separator:af18a6b358884c4d770c1c8730c43243c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff228727b15e855d4842e2c0ca1d6a7"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#a8ff228727b15e855d4842e2c0ca1d6a7">on_recv_headers</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td></tr>
<tr class="memdesc:a8ff228727b15e855d4842e2c0ca1d6a7"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has seen all headers in the currently received message.  <a href="structah__http__client__cbs.html#a8ff228727b15e855d4842e2c0ca1d6a7">More...</a><br /></td></tr>
<tr class="separator:a8ff228727b15e855d4842e2c0ca1d6a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad09e006b4ba8372f7385408709dbc878"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#ad09e006b4ba8372f7385408709dbc878">on_recv_line</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, const char *line, <a class="el" href="structah__http__ver.html">ah_http_ver_t</a> version)</td></tr>
<tr class="memdesc:ad09e006b4ba8372f7385408709dbc878"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> has received a start line.  <a href="structah__http__client__cbs.html#ad09e006b4ba8372f7385408709dbc878">More...</a><br /></td></tr>
<tr class="separator:ad09e006b4ba8372f7385408709dbc878"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46cd4ef226ad15bfd77c29035fd4265"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structah__http__client__cbs.html#af46cd4ef226ad15bfd77c29035fd4265">on_send</a> )(void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__head.html">ah_http_head_t</a> *head, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td></tr>
<tr class="memdesc:af46cd4ef226ad15bfd77c29035fd4265"><td class="mdescLeft">&#160;</td><td class="mdescRight"><em>cln</em> finished sending an HTTP message or the attempt failed.  <a href="structah__http__client__cbs.html#af46cd4ef226ad15bfd77c29035fd4265">More...</a><br /></td></tr>
<tr class="separator:af46cd4ef226ad15bfd77c29035fd4265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Field Documentation</h2>
<a id="a89d3133a1c1130ae7023e1fabbcc9bb1" name="a89d3133a1c1130ae7023e1fabbcc9bb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d3133a1c1130ae7023e1fabbcc9bb1">&#9670;&#160;</a></span>on_close</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_close) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has been closed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to connection. </td></tr>
    <tr><td class="paramname">err</td><td>Should always be <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>. Other codes may be provided if an unexpected platform error occurs.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is guaranteed to be called after every call to <a class="el" href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a" title="Schedules closing of cln.">ah_http_client_close()</a>, which makes it an excellent place to release any resources associated with <em>cln</em>. </dd></dl>

</div>
</div>
<a id="ab7d4ae298f4368e38183e97d5c855254" name="ab7d4ae298f4368e38183e97d5c855254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d4ae298f4368e38183e97d5c855254">&#9670;&#160;</a></span>on_connect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_connect) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has been connected to a specified remote host, or the attempt to connect it has failed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client. </td></tr>
    <tr><td class="paramname">err</td><td>One of the following codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Connection established successfully. </li>
<li>
<a class="el" href="err_8h.html#a509346cb6a26a979ee88a93e3877034d">AH_EADDRINUSE</a> [Darwin, Linux, Win32] - Failed to bind a concrete local address. This error only occurs if the client was opened with the wildcard address, which means that network interface binding is delayed until connection. </li>
<li>
<a class="el" href="err_8h.html#a7cdcbeb03a77419509c41acb5f8b342c">AH_EADDRNOTAVAIL</a> [Darwin, Win32] - The specified remote address is invalid. </li>
<li>
<a class="el" href="err_8h.html#a7cdcbeb03a77419509c41acb5f8b342c">AH_EADDRNOTAVAIL</a> [Linux] - No ephemeral TCP port is available. </li>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - The IP version of the specified remote address does not match that of the bound local address. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - The event loop of <em>cln</em> has shut down. </li>
<li>
<a class="el" href="err_8h.html#ada35daf5f67fdc248f86f0cccde09fb1">AH_ECONNREFUSED</a> - Connection attempt ignored or rejected by targeted remote host. </li>
<li>
<a class="el" href="err_8h.html#ab310ce2b0cf2be43ae8f7bc50288819c">AH_ECONNRESET</a> [Darwin] - Connection attempt reset by targeted remote host. </li>
<li>
<a class="el" href="err_8h.html#a0e717e71f4c9f8dec60a7c3fc76d2952">AH_EHOSTUNREACH</a> - The targeted remote host could not be reached. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Darwin] - Local network not online. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#a42730b68e744f4ec9c84cb62d6808f3e">AH_ENETUNREACH</a> - Network of targeted remote host not reachable. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#ad82a3d847b67cb8ddd7e8ccf29257ee5">AH_ETIMEDOUT</a> - The connection attempt did not complete before its deadline. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In contrast to plain TCP connections, data receiving is always enabled for new HTTP connections.</dd>
<dd>
This function is never called for accepted HTTP clients, which means it may be set to <code>NULL</code> when this data structure is used with <a class="el" href="http_8h.html#a99d76f255529dfb4a1604e97a7fbe90c" title="Schedules for srv, which must be open, to start listening for connecting clients.">ah_http_server_listen()</a>. </dd></dl>

</div>
</div>
<a id="a063349ed990a73f70950b6bab686a953" name="a063349ed990a73f70950b6bab686a953"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a063349ed990a73f70950b6bab686a953">&#9670;&#160;</a></span>on_open</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_open) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has been opened, or the attempt failed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client. </td></tr>
    <tr><td class="paramname">err</td><td>One of the following codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Client opened successfully. </li>
<li>
<a class="el" href="err_8h.html#aa8e5aa080f59eb326981a36bd35c82c1">AH_EACCES</a> [Darwin, Linux] - Not permitted to open TCP connection. </li>
<li>
<a class="el" href="err_8h.html#a509346cb6a26a979ee88a93e3877034d">AH_EADDRINUSE</a> - Specified local address already in use. </li>
<li>
<a class="el" href="err_8h.html#a7cdcbeb03a77419509c41acb5f8b342c">AH_EADDRNOTAVAIL</a> - No available local network interface is associated with the given local address. </li>
<li>
<a class="el" href="err_8h.html#aa0a6cc5ca923aaddc452f4f0daccbf60">AH_EAFNOSUPPORT</a> - Specified IP version not supported. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - Client event loop is shutting down. </li>
<li>
<a class="el" href="err_8h.html#ab47b4454a3730cbeb535aa4ab06d72eb">AH_EMFILE</a> [Darwin, Linux, Win32] - Process descriptor table is full. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#a39393018d6b238bf24dd9856538f9b9b">AH_ENFILE</a> [Darwin, Linux] - System file table is full. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux, Win32] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> [Darwin, Linux] - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#a50ecdb94afa4108dd9f936a8139b25c0">AH_EPROVIDERFAILEDINIT</a> [Win32] - Network service failed to initialize. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function is never called for accepted clients, which means it may be set to <code>NULL</code> when this data structure is used with <a class="el" href="http_8h.html#a99d76f255529dfb4a1604e97a7fbe90c" title="Schedules for srv, which must be open, to start listening for connecting clients.">ah_http_server_listen()</a>.</dd>
<dd>
Every successfully opened <em>cln</em> must eventually be provided to <a class="el" href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a" title="Schedules closing of cln.">ah_http_client_close()</a>. </dd></dl>

</div>
</div>
<a id="a784e42b0275174b861e20d26443d0023" name="a784e42b0275174b861e20d26443d0023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784e42b0275174b861e20d26443d0023">&#9670;&#160;</a></span>on_recv_chunk_line</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_recv_chunk_line) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, size_t size, const char *ext)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has received a chunk size and a chunk extension. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client. </td></tr>
    <tr><td class="paramname">size</td><td>Size, in bytes, of the incoming chunk. </td></tr>
    <tr><td class="paramname">ext</td><td>Chunk extension, provided as a NULL-terminated string if present in received chunk. Otherwise <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The chunk size is handled automatically by the HTTP implementation. Setting this callback is primarily useful for inspecting chunk extensions, which are ignored if this callback is unset.</dd>
<dd>
This callback is optional. Set if to <code>NULL</code> if not relevant.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><em>ext</em> is not guaranteed to be valid, as per RFC9112. It is up to you to determine that it both is valid and specifies something of relevance.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://rfc-editor.org/rfc/rfc9112.html">https://rfc-editor.org/rfc/rfc9112.html</a> </dd></dl>

</div>
</div>
<a id="aac94c429ddda22abdf5fce0241784857" name="aac94c429ddda22abdf5fce0241784857"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac94c429ddda22abdf5fce0241784857">&#9670;&#160;</a></span>on_recv_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_recv_data) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__tcp__in.html">ah_tcp_in_t</a> *in)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has received data part of a message body. </p>
<p >The <a class="el" href="structah__tcp__in.html" title="TCP input stream.">ah_tcp_in</a> instance referenced by <em>in</em> is reused by <em>cln</em> every time this callback is invoked. If the <a class="el" href="structah__rw.html" title="R/W pointer set, used to coordinate writes and reads to and from the same buffer.">ah_rw</a> field of that instance is not read in its entirety, whatever unread contents remain when this callback returns will be presented again in another call to this callback. If not all of the contents of <em>in</em> are read or discarded every time this callback is invoked, or the buffer is repackaged via <a class="el" href="tcp_8h.html#ab94fcd820e7b7fdadd89ed19062f2fe0" title="Moves the readable bytes of in to the beginning of its internal buffer.">ah_tcp_in_repackage()</a>, that buffer may eventually become full, triggering the <a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> error. If you wish to save the contents of <em>in</em> without having to copy it over to another buffer, you can detach it from <em>cln</em> using <a class="el" href="tcp_8h.html#a5e5c98beada365d804771830144acbba" title="Detaches input buffer in from its owner.">ah_tcp_in_detach()</a>, which allocates a new input buffer for <em>cln</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client. </td></tr>
    <tr><td class="paramname">in</td><td>Input buffer containing message body data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If you feel surprised by TCP data structures and functions appearing here, remember that HTTP/1 is specified as an extension of the TCP protocol. </dd></dl>

</div>
</div>
<a id="a97e8038e0c64c1ca61f39d7fde584ef1" name="a97e8038e0c64c1ca61f39d7fde584ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e8038e0c64c1ca61f39d7fde584ef1">&#9670;&#160;</a></span>on_recv_end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_recv_end) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has finished receiving a message. </p>
<p >If this callback is invoked with an error code (<em>err</em> is not equal to <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>), or if connection keep-alive is disabled, the cln will be closed automatically at some point after this function returns.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to cln. </td></tr>
    <tr><td class="paramname">err</td><td>One of the following codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Message received successfully. </li>
<li>
<a class="el" href="err_8h.html#af98f6b600f33ba4739aa53656a353066">AH_EBADMSG</a> - Message metadata violates HTTP specification. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - Client event loop is shutting down. </li>
<li>
<a class="el" href="err_8h.html#ab8d5cedace87ebddbdba1e5de4753f24">AH_ECONNABORTED</a> [Win32] - Virtual circuit terminated due to time-out or other failure. </li>
<li>
<a class="el" href="err_8h.html#ab310ce2b0cf2be43ae8f7bc50288819c">AH_ECONNRESET</a> [Darwin, Win32] - Connection reset by remote host. </li>
<li>
<a class="el" href="err_8h.html#a3992756ba96cff971f3b379f456e9d02">AH_EDISCON</a> [Win32] - Connection gracefully closed by remote host. </li>
<li>
<a class="el" href="err_8h.html#aadc0f78f99ebe1dc466edaad402a9461">AH_EDUP</a> - Supported header or header value that may only occur once has been seen multiple times. </li>
<li>
<a class="el" href="err_8h.html#a207acd4fd403e3bf0efdfee90a13f7ae">AH_EEOF</a> - Connection closed for reading. </li>
<li>
<a class="el" href="err_8h.html#a7cf5011c680a591df888f256f0881dbd">AH_ESYNTAX</a> - Message syntax not valid according to RFC9112. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#af41a2b3126727ba534bf6056312a3170">AH_ENETRESET</a> [Win32] - Keep-alive is enabled for the connection and a related failure was detected. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - The input buffer of <em>cln</em> is full. To prevent this error from occurring when receiving body data, you must ensure that the input buffer never gets exhausted by reading, discarding, repackaging or detaching its contents. The same error also occurs when a received metadata item is too large, which can only be avoided by the sender ensuring that no individual start line, header or chunk line exceeds the size <code>AH_TCP_IN_BUF_SIZE</code>. </li>
<li>
<a class="el" href="err_8h.html#acd76fd87a340e2584e6971bba20b57e2">AH_EPROTONOSUPPORT</a> - Received message uses an unsupported version of HTTP. </li>
<li>
<a class="el" href="err_8h.html#ad82a3d847b67cb8ddd7e8ccf29257ee5">AH_ETIMEDOUT</a> - Connection timed out. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af18a6b358884c4d770c1c8730c43243c" name="af18a6b358884c4d770c1c8730c43243c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af18a6b358884c4d770c1c8730c43243c">&#9670;&#160;</a></span>on_recv_header</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_recv_header) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__header.html">ah_http_header_t</a> header)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has received a header field. </p>
<p >This callback is invoked both for regular headers and for those in the trailer of a chunked message. If you need to know which of the two sources a particular header is from, make sure to set <a class="el" href="structah__http__client__cbs.html#a8ff228727b15e855d4842e2c0ca1d6a7" title="cln has seen all headers in the currently received message.">ah_http_client_cbs::on_recv_headers</a>, which is called after all regular headers have been received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client receiving header. </td></tr>
    <tr><td class="paramname">header</td><td>HTTP header, consisting of a name and a value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ff228727b15e855d4842e2c0ca1d6a7" name="a8ff228727b15e855d4842e2c0ca1d6a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff228727b15e855d4842e2c0ca1d6a7">&#9670;&#160;</a></span>on_recv_headers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_recv_headers) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has seen all headers in the currently received message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This callback is optional. Set if to <code>NULL</code> if not relevant. </dd></dl>

</div>
</div>
<a id="ad09e006b4ba8372f7385408709dbc878" name="ad09e006b4ba8372f7385408709dbc878"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09e006b4ba8372f7385408709dbc878">&#9670;&#160;</a></span>on_recv_line</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_recv_line) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, const char *line, <a class="el" href="structah__http__ver.html">ah_http_ver_t</a> version)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> has received a start line. </p>
<p >A start line begins an HTTP message. Whether the start line is a request line or a status line depends on whether the entity receiving the message is a client or a server. Clients you connect using <a class="el" href="http_8h.html#a2b95d0ccdc86388438d99fdfc65d45e2" title="Schedules connection of cln, which must be open, to raddr.">ah_http_client_connect()</a> receive status lines while clients accepted via servers via <a class="el" href="http_8h.html#a99d76f255529dfb4a1604e97a7fbe90c" title="Schedules for srv, which must be open, to start listening for connecting clients.">ah_http_server_listen()</a> receive request lines.</p>
<p >If an error occurred before or while parsing the start line, <a class="el" href="structah__http__client__cbs.html#a97e8038e0c64c1ca61f39d7fde584ef1" title="cln has finished receiving a message.">ah_http_client_cbs::on_recv_end</a> is called before this callback is ever invoked.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client receiving start line. </td></tr>
    <tr><td class="paramname">line</td><td>Message start line. </td></tr>
    <tr><td class="paramname">version</td><td>HTTP version indicator. The major version is always <code>1</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If you need to maintain state about the received message, you may do so by referring to that state using the user data pointer of <em>cln</em> (see <a class="el" href="http_8h.html#a0a4114087cf499bd5ebc44a4b555c261" title="Gets the context pointer of the client observer associated with srv.">ah_http_client_get_obs_ctx()</a> and ah_http_client_set_user_data()). Messages are always received in sequence over the same connection, which means that this callback will not be called again for the current <em>cln</em> until <a class="el" href="structah__http__client__cbs.html#a97e8038e0c64c1ca61f39d7fde584ef1" title="cln has finished receiving a message.">ah_http_client_cbs::on_recv_end</a> has been called to end the receiving of this message.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd><em>line</em> is not guaranteed to be valid, as per RFC9112. It is up to you to determine that it both is valid and specifies something of relevance.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a href="https://rfc-editor.org/rfc/rfc9112.html">https://rfc-editor.org/rfc/rfc9112.html</a> </dd></dl>

</div>
</div>
<a id="af46cd4ef226ad15bfd77c29035fd4265" name="af46cd4ef226ad15bfd77c29035fd4265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af46cd4ef226ad15bfd77c29035fd4265">&#9670;&#160;</a></span>on_send</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* ah_http_client_cbs::on_send) (void *ctx, <a class="el" href="structah__http__client.html">ah_http_client_t</a> *cln, <a class="el" href="structah__http__head.html">ah_http_head_t</a> *head, <a class="el" href="defs_8h.html#a746483e29fbbad8cb71e1b3875763ae2">ah_err_t</a> err)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><em>cln</em> finished sending an HTTP message or the attempt failed. </p>
<p >This callback is invoked if a complete HTTP message could be sent, in which case <em>err</em> is <a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a>, or if sending it failed, which should prompt you to close <em>cln</em> using <a class="el" href="http_8h.html#a4a0cacd784a5c0c3dc2b0af93745d02a" title="Schedules closing of cln.">ah_http_client_close()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>Pointer to context. </td></tr>
    <tr><td class="paramname">cln</td><td>Pointer to client. </td></tr>
    <tr><td class="paramname">head</td><td>Pointer to <a class="el" href="structah__http__head.html" title="HTTP start line and field lines.">ah_http_head</a> instance provided earlier to <a class="el" href="http_8h.html#afdfe56387101bf4b1bb954f002fa3ef2" title="Schedules sending of HTTP message head.">ah_http_client_send_head()</a>. </td></tr>
    <tr><td class="paramname">err</td><td>One of the following codes: <ul>
<li>
<a class="el" href="err_8h.html#af1346324d9368d43e1e103d395368306">AH_ENONE</a> - Message sent successfully. </li>
<li>
<a class="el" href="err_8h.html#a48e584f2f1aa328bd3eee0757611d609">AH_ECANCELED</a> - Client event loop is shutting down or it was closed before the message represented by <em>head</em> could be transmitted. </li>
<li>
<a class="el" href="err_8h.html#ab8d5cedace87ebddbdba1e5de4753f24">AH_ECONNABORTED</a> [Win32] - Virtual circuit terminated due to time-out or other failure. </li>
<li>
<a class="el" href="err_8h.html#ab310ce2b0cf2be43ae8f7bc50288819c">AH_ECONNRESET</a> [Darwin, Linux, Win32] - Client connection reset by remote host. </li>
<li>
<a class="el" href="err_8h.html#a207acd4fd403e3bf0efdfee90a13f7ae">AH_EEOF</a> - Client connection closed for writing. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Darwin] - Local network not online. </li>
<li>
<a class="el" href="err_8h.html#aeeaaf58314a341082726c379fc63c2a3">AH_ENETDOWN</a> [Win32] - The network subsystem has failed. </li>
<li>
<a class="el" href="err_8h.html#af41a2b3126727ba534bf6056312a3170">AH_ENETRESET</a> [Win32] - Keep-alive is enabled for the connection and a related failure was detected. </li>
<li>
<a class="el" href="err_8h.html#a42730b68e744f4ec9c84cb62d6808f3e">AH_ENETUNREACH</a> [Darwin] - Network of remote host not reachable. </li>
<li>
<a class="el" href="err_8h.html#aae90908ac56245681663381edb2eda2a">AH_ENOBUFS</a> [Darwin, Linux, Win32] - Not enough buffer space available. </li>
<li>
<a class="el" href="err_8h.html#a93152c7ed33b050e5269c18301108a94">AH_ENOMEM</a> - Not enough heap memory available. </li>
<li>
<a class="el" href="err_8h.html#a65a9889d59795edbe23364fd1f8e7752">AH_EOVERFLOW</a> - The used output buffer, which is always allocated via the page allocator (see <a class="el" href="alloc_8h.html#a911d4e66ad39e4007ef01aec5a0ec06a" title="Allocates a page of memory, guaranteed to be at least AH_PSIZE bytes large.">ah_palloc()</a>) is too small for it to be possible to store the start line, headers and/or chunk extension of some <a class="el" href="structah__http__head.html" title="HTTP start line and field lines.">ah_http_head</a>, <a class="el" href="structah__http__chunk.html" title="HTTP chunk, including data and an arbitrary extension.">ah_http_chunk</a> or <a class="el" href="structah__http__trailer.html" title="HTTP chunked message end, consisting of a last chunk extension and a trailer.">ah_http_trailer</a> part of the message transmission. </li>
<li>
<a class="el" href="err_8h.html#ad82a3d847b67cb8ddd7e8ccf29257ee5">AH_ETIMEDOUT</a> - Client connection timed out. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>ah_http/include/ah/<a class="el" href="http_8h_source.html">http.h</a></li>
</ul>
</div><!-- contents -->
  <footer>Generated by <a href="https://doxygen.org">Doxygen</a> 1.9.5</footer>
</body>
</html>
